---
layout: post
title: Go 学习笔记
date: 2025-12-09 19:44:38+0800
last_updated: 2025-12-09 19:44:38+0800
description: 本文记录了我在学习 Go 语言过程中的一些笔记和心得。
tags:
  - Go
categories: Potpourri
featured:
giscus_comments: true
toc:
  sidebar: left
related_posts: true
pretty_table: true
---

使用 `fmt.Printf` 时可能涉及到相关的格式化动词，以下是一些常用的格式化动词及其含义：

| 动词  | 含义                       |
| ----- | -------------------------- |
| %T    | 值的类型                   |
| %t    | 布尔值                     |
| %%    | 字符 '%'                   |
| %s    | 字符串                     |
| %p    | 指针地址                   |
| %b    | 二进制                     |
| %o/%O | 八进制（是否带 `0o` 前缀） |
| %x/%X | 十六进制（大小写）         |
| %d/%i | 十进制整数                 |
| %f    | 十进制浮点数               |
| %e/%E | 科学计数法（大小写）       |

---

在 `Go` 中所以的语句后面都不需要使用 `;` 来结尾，
并且在条件分支中也不需要使用 `()` 来包裹条件表达式。
除此之外，在 `Go` 语言的条件分支中可以添加一个初始化语句，这个初始化语句会在条件判断之前执行，
并且其作用域仅限于该条件分支内。例如：

```go
if err := doSomething(); err != nil {
  // 处理错误
} else {
  // 正常处理
}
```

`Go` 中的 `switch` 语句会自动在每个 `case` 分支后面添加一个隐式的 `break`，
因此不需要显式地使用 `break` 语句来终止分支。

---

`Go` 中的 `var`、`const`、`type`、`import` 等关键字都可以使用块语法来声明多个变量、常量或类型。
块语法使用大括号 `{}` 将多个声明包裹在一起。例如：

```go
var (
  a int
  b string
  c bool
)
```

这种方式可以使代码更加整洁，尤其是在需要声明多个相关变量时。

---

在 `Go` 语言的 `const` 块中，后续的变量会重复使用前一个变量的表达式，除非显式地为其赋值。
例如：

```go
const (
  A = 1
  B        // B 的值为 1
  C = 2
  D        // D 的值为 2
)
```

---

`Go` 语言的 `const` 块中可以使用 `iota`，它的值是当前变量所在的偏移位置（从0开始计算）。
每当遇到一个新的 `const` 块时，`iota` 会被重置为0，并且在每一行中递增1。
也可以在 `const` 块中使用 `_` 来忽略某些值。
例如：

```go
const (
  A = iota           // A 的值为 0
  B                  // B 的值为 1
  _                  // 忽略该值，iota 递增到 2
  C, D = iota, iota  // C 和 D 的值均为 3
)
```

---

`Go` 中可以使用有显示名称的返回值，
这样只需要在函数体中对这些返回值进行赋值而不需要显式地使用 `return` 语句返回它们。
这样的写法在需要根据条件分支返回多个值时非常有用。
例如：

```go
// 使用有显示名称的返回值
func divide(a, b int) (quotient int, remainder int) {
  quotient = a / b
  remainder = a % b
  return // 直接返回命名的返回值，这里的 return 不能省略
}

// 使用无名称的返回值
func divide2(a, b int) (int, int) {
  return a / b, a % b
}
```

---

`Go` 语言中可以使用 `import` 进行包的导入，可以给导入的包取别名，
也可以使用 `.` 来导入包中的所有标识符。通常而言，在 `Go` 导入的包必须要被使用，否则会导致编译错误。
但是有一种特殊的导入方式是使用 `_`，这种方式仅导入包以执行其 `init` 函数，
而不会导入包中的其他标识符。
例如：

```go
import (
  fmt "fmt"      // 给包取别名
  . "math"       // 导入包中的所有标识符
  _ "net/http"  // 仅导入包以执行其 init 函数
)
```

当两个同名的包导入时就需要使用别名来区分它们。

---

`Go` 中有各种字面量可以使用，同时对于数字字面量还支持使用下划线 `_` 来分隔数字以提高可读性。
例如：

```go
a := 53_700        // 十进制
b := 0_700         // 0前缀表示八进制
c1 := 0x_aa_bb_cc
c2 := 0X_dd_ee_ff  // 0x或0X前缀表示十六进制
d1 := 0b_1000_0001
d2 := 0B_1000_0001 // 0b或0B前缀表示二进制
```
