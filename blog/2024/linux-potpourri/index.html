<!DOCTYPE html> <html lang="zh"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Linux Potpourri | Kaiser's Homepage </title> <meta name="author" content="Kaiser Yang"> <meta name="description" content="Sharing everything I know. "> <meta name="keywords" content="C/C++, Java, Python"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.css" integrity="sha256-uRX+PiRTR4ysKFRCykT8HLuRCub26LgXJZym3Yeom1c=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://kaiser-yang.github.io/blog/2024/linux-potpourri/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Kaiser's Homepage </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">Ctrl K <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main" style="min-width: 60%;"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Linux Potpourri</h1> <p class="post-meta"> Created in September 10, 2024 , last updated in June 07, 2025 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/linux"> <i class="fa-solid fa-hashtag fa-sm"></i> Linux</a>   <a href="/blog/tag/cli"> <i class="fa-solid fa-hashtag fa-sm"></i> CLI</a>   ·   <a href="/blog/category/potpourri"> <i class="fa-solid fa-tag fa-sm"></i> Potpourri</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p><strong>This post is being continuously updated.</strong></p> <h2 id="shell">Shell</h2> <p><strong>NOTE</strong>: All the contents are based on <code class="language-plaintext highlighter-rouge">bash</code> shell.</p> <h3 id="shortcuts">Shortcuts</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">Ctrl + A</code>: Move to the beginning of the line.</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + E</code>: Move to the end of the line.</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + U</code>: Delete from the cursor to the beginning of the line.</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + K</code>: Delete from the cursor to the end of the line.</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + W</code>: Delete the word before the cursor.</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + L</code>: Clear the screen.</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + Z</code>: Send SIGTSTP to the foreground process (suspend).</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + C</code>: Send SIGINT to the foreground process (terminate).</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + \</code>: Send SIGQUIT to the foreground process (terminate and create core dump).</li> <li> <code class="language-plaintext highlighter-rouge">Ctrl + D</code>: Send EOF to the foreground process (end of file).</li> </ul> <h3 id="wildcards">Wildcards</h3> <p>Wildcards are symbols that can be used to match multiple files or directories. Those symbols are supported by the shell, and they can be used in any command as long as the shell supports them.</p> <p>Different shells may have different wildcard symbols, there are some wildcards in the <code class="language-plaintext highlighter-rouge">bash</code> shell:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">*</code>: matches any number of characters (including 0).</li> <li> <code class="language-plaintext highlighter-rouge">**</code>: matches all files and directories recursively.</li> <li> <code class="language-plaintext highlighter-rouge">**/</code>: matches all directories recursively.</li> <li> <code class="language-plaintext highlighter-rouge">?</code>: matches a single character.</li> <li> <code class="language-plaintext highlighter-rouge">[]</code>：matches any character in the brackets. For example, <code class="language-plaintext highlighter-rouge">[abc]</code> matches <code class="language-plaintext highlighter-rouge">a</code> or <code class="language-plaintext highlighter-rouge">b</code> or <code class="language-plaintext highlighter-rouge">c</code>.</li> <li> <code class="language-plaintext highlighter-rouge">[!]</code> or <code class="language-plaintext highlighter-rouge">[^]</code>: matches any character not in the brackets. For example, <code class="language-plaintext highlighter-rouge">[!abc]</code> matches any character except <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code> and <code class="language-plaintext highlighter-rouge">c</code>.</li> </ul> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">**</code> and <code class="language-plaintext highlighter-rouge">**/</code> are only available when <code class="language-plaintext highlighter-rouge">globstar</code> shell option is enabled (use <code class="language-plaintext highlighter-rouge">shopt | grep globstar</code> to check). You can use <code class="language-plaintext highlighter-rouge">shopt -s globstar</code> to enable it.</p> <p>In the square brackets, you can use <code class="language-plaintext highlighter-rouge">-</code> to represent a range, for example, <code class="language-plaintext highlighter-rouge">[0-9]</code> matches any digit, and <code class="language-plaintext highlighter-rouge">[a-z]</code> matches any lowercase letter.</p> <p>There is a symbol <code class="language-plaintext highlighter-rouge">{}</code> which is not a wildcard but is often used in the same way. It is used to represent multiple strings, for example, <code class="language-plaintext highlighter-rouge">a{b,c}d</code> will be parsed as <code class="language-plaintext highlighter-rouge">abd</code> or <code class="language-plaintext highlighter-rouge">acd</code>. For example, <code class="language-plaintext highlighter-rouge">mv file_{old,new}</code> will be parsed as <code class="language-plaintext highlighter-rouge">mv file_old file_new</code>. You can use nested curly brackets, for example, <code class="language-plaintext highlighter-rouge">echo a{b{c,d},e}f</code> will be parsed as <code class="language-plaintext highlighter-rouge">echo abcf abdf aef</code>, which works like distributive law in mathematics. <code class="language-plaintext highlighter-rouge">..</code> is used to represent a range, for example, <code class="language-plaintext highlighter-rouge">echo {a..z}</code> will be parsed as <code class="language-plaintext highlighter-rouge">echo a b c ... z</code>.</p> <p><strong>Note</strong>: these wildcards are not all same with regex. In regex, <code class="language-plaintext highlighter-rouge">*</code> means 0 or more times, <code class="language-plaintext highlighter-rouge">?</code> means 0 or 1 time, and <code class="language-plaintext highlighter-rouge">^</code> also means the beginning of a line.</p> <p>When <code class="language-plaintext highlighter-rouge">extglob</code> is on (use <code class="language-plaintext highlighter-rouge">shopt | grep extglob</code> to check), those below are supported:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">?(pattern-list)</code>: Matches zero or one occurrence of the given patterns.</li> <li> <code class="language-plaintext highlighter-rouge">*(pattern-list)</code>: Matches zero or more occurrences of the given patterns.</li> <li> <code class="language-plaintext highlighter-rouge">+(pattern-list)</code>: Matches one or more occurrences of the given patterns.</li> <li> <code class="language-plaintext highlighter-rouge">@(pattern-list)</code>: Matches one of the given patterns.</li> <li> <code class="language-plaintext highlighter-rouge">!(pattern-list)</code>: Matches anything except one of the given patterns.</li> </ul> <h4 id="posix-character-classes"> <code class="language-plaintext highlighter-rouge">POSIX</code> Character Classes</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">[:alnum:]</code>: Letter or digit.</li> <li> <code class="language-plaintext highlighter-rouge">[:alpha:]</code>: Letter.</li> <li> <code class="language-plaintext highlighter-rouge">[:blank:]</code>: Space or tab.</li> <li> <code class="language-plaintext highlighter-rouge">[:cntrl:]</code>: Control character.</li> <li> <code class="language-plaintext highlighter-rouge">[:digit:]</code>: Digit.</li> <li> <code class="language-plaintext highlighter-rouge">[:xdigit:]</code>: Hexadecimal digit (0-9, a-f, A-F).</li> <li> <code class="language-plaintext highlighter-rouge">[:graph:]</code>: Printable character except space.</li> <li> <code class="language-plaintext highlighter-rouge">[:lower:]</code>: Lowercase letter.</li> <li> <code class="language-plaintext highlighter-rouge">[:upper:]</code>: Uppercase letter.</li> <li> <code class="language-plaintext highlighter-rouge">[:print:]</code>: Printable character including space.</li> <li> <code class="language-plaintext highlighter-rouge">[:punct:]</code>: Punctuation character.</li> <li> <code class="language-plaintext highlighter-rouge">[:space:]</code>: Space, tab, newline, carriage return, form feed, or vertical tab.</li> </ul> <h3 id="quoting">Quoting</h3> <p>Quoting is to cancel the special meaning of some characters in the shell. For example, <code class="language-plaintext highlighter-rouge">|</code>, <code class="language-plaintext highlighter-rouge">&amp;</code>, <code class="language-plaintext highlighter-rouge">;</code>, <code class="language-plaintext highlighter-rouge">(</code>, <code class="language-plaintext highlighter-rouge">)</code>, <code class="language-plaintext highlighter-rouge">&lt;</code>, <code class="language-plaintext highlighter-rouge">&gt;</code>, space, tab, newline and <code class="language-plaintext highlighter-rouge">!</code> are special characters in the shell. You must quote them if you want to use them as normal characters.</p> <h4 id="escape-character">Escape Character</h4> <p><code class="language-plaintext highlighter-rouge">\</code> is the escape character in the shell. It can be used to cancel the special meaning of the next character.</p> <p>It is worth noting that if the next character is a newline, the newline will be treated as a line continuation. We use this to avoid writing long commands in one line.</p> <h4 id="single-quotes">Single Quotes</h4> <p>Characters in enclosing single quotes are preserved literally.</p> <p><strong>NOTE</strong>: You can not put a single quote between enclosing single quotes even if preceded by a backslash. You can put a double quote between enclosing single quotes directly.</p> <h4 id="double-quotes">Double Quotes</h4> <p>Characters in enclosing double quotes are preserved literally, except for <code class="language-plaintext highlighter-rouge">$</code>, <code class="language-plaintext highlighter-rouge">`</code>, <code class="language-plaintext highlighter-rouge">\</code>, and <code class="language-plaintext highlighter-rouge">!</code> (when history expansion is enabled).</p> <p><strong>NOTE</strong>: When the shell is in POSIX mode, the <code class="language-plaintext highlighter-rouge">!</code> has no special meaning within double quotes, even when history expansion is enabled.</p> <p><code class="language-plaintext highlighter-rouge">$</code> and <code class="language-plaintext highlighter-rouge">\</code>` retain their special meaning within double quotes. For example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># $variable will be replaced by the value of the variable</span>
<span class="nb">echo</span> <span class="s2">"Hello, </span><span class="nv">$USER</span><span class="s2">"</span> <span class="c"># Hello, kaiser</span>
<span class="c"># `command` will be replaced by the output of the command</span>
<span class="nb">echo</span> <span class="s2">"Today is </span><span class="sb">`</span><span class="nb">date</span> +%A<span class="sb">`</span><span class="s2">"</span> <span class="c"># Today is Monday</span>
<span class="c"># \ will be preserved literally unless followed by $ or ` or " or \ or newline</span>
<span class="nb">echo</span> <span class="s2">"Hello, </span><span class="se">\$</span><span class="s2">USER"</span> <span class="c"># Hello, $USER</span>
<span class="nb">echo</span> <span class="s2">"Hello, </span><span class="se">\"</span><span class="s2">"</span> <span class="c"># Hello, "</span>
<span class="nb">echo</span> <span class="s2">"Hello, </span><span class="se">\ </span><span class="s2">no used"</span> <span class="c"># Hello, \ no used</span>
<span class="nb">echo</span> <span class="s2">"Heloo, </span><span class="se">\</span><span class="s2">
World"</span> <span class="c"># Hello, World</span>
</code></pre></div></div> <p>When history expansion is enabled, <code class="language-plaintext highlighter-rouge">!</code> will be interpreted as a history expansion character:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span>
<span class="c"># !!: the last command</span>
<span class="nb">echo</span> <span class="s2">"!!"</span> <span class="c"># ls</span>
</code></pre></div></div> <p>You can use <code class="language-plaintext highlighter-rouge">$"string"</code> to translate the string according to the current locale. If there is no translation available, the string <code class="language-plaintext highlighter-rouge">$</code> will be ignored.</p> <h3 id="variables">Variables</h3> <p>You can use <code class="language-plaintext highlighter-rouge">name=[value]</code> (square braces here mean that the <code class="language-plaintext highlighter-rouge">value</code> is optional) to define a variable and set its value. If the <code class="language-plaintext highlighter-rouge">value</code> is omitted, the empty string is assigned to it.</p> <p><strong>NOTE</strong>: You can not put a space between <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">=</code>. For example, <code class="language-plaintext highlighter-rouge">name = value</code> is invalid.</p> <p>You can also use <code class="language-plaintext highlighter-rouge">declare</code> command to define a variable and set its value. Those below are available <code class="language-plaintext highlighter-rouge">declare</code> attributes options:</p> <table> <thead> <tr> <th>Option</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-a</code></td> <td>indexed array</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-A</code></td> <td>associative array</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-i</code></td> <td>integer</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-l</code></td> <td>lowercase value automatically</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-u</code></td> <td>uppercase value automatically</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-r</code></td> <td>readonly</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-x</code></td> <td>export</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-n</code></td> <td>name reference to another variable</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-t</code></td> <td>trace, rarely used</td> </tr> </tbody> </table> <p><strong>NOTE</strong>: You can use <code class="language-plaintext highlighter-rouge">+</code> instead of <code class="language-plaintext highlighter-rouge">-</code> to unset an attribute.</p> <p>If you use <code class="language-plaintext highlighter-rouge">declare -i</code> to set the integer attribute of a variable, the value will be evaluated as an arithmetic expression automatically, for example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>1+2
<span class="nb">echo</span> <span class="nv">$a</span> <span class="c"># 1+2</span>
<span class="c"># You can use $((...)) to evaluate an arithmetic expression</span>
<span class="nb">echo</span> <span class="k">$((</span>a<span class="k">))</span> <span class="c"># 3</span>
<span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">a</span><span class="o">=</span>1+2
<span class="nb">echo</span> <span class="nv">$a</span> <span class="c"># 3</span>
</code></pre></div></div> <p>You can use <code class="language-plaintext highlighter-rouge">+=</code> to expand a variable:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">num</span><span class="o">=</span>5
num+<span class="o">=</span>3
<span class="nb">echo</span> <span class="nv">$num</span> <span class="c"># 8</span>
num+<span class="o">=</span>2+5
<span class="nb">echo</span> <span class="nv">$num</span> <span class="c"># 15</span>

<span class="nv">str</span><span class="o">=</span><span class="s2">"Hello"</span>
str+<span class="o">=</span><span class="s2">" World"</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$str</span><span class="s2">"</span> <span class="c"># Hello World</span>

<span class="nv">arr</span><span class="o">=(</span><span class="s2">"apple"</span> <span class="s2">"banana"</span><span class="o">)</span>
arr+<span class="o">=(</span><span class="s2">"cherry"</span> <span class="s2">"date"</span><span class="o">)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="c"># apple banana cherry date</span>

<span class="nv">arr</span><span class="o">=([</span>0]<span class="o">=</span><span class="s2">"a"</span> <span class="o">[</span>2]<span class="o">=</span><span class="s2">"b"</span><span class="o">)</span> <span class="c"># Non-continuous index</span>
arr+<span class="o">=(</span><span class="s2">"c"</span><span class="o">)</span> <span class="c"># Appends at index 3 (next max index + 1)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">!arr[@]</span><span class="k">}</span><span class="s2">"</span> <span class="c"># 0 2 3 (indexes of the array)</span>

<span class="c"># Must use declare -A aarr to define aarr as an associative array,</span>
<span class="c"># which is similar with a dictionary or map</span>
<span class="nb">declare</span> <span class="nt">-A</span> aarr
<span class="nv">aarr</span><span class="o">=([</span>name]<span class="o">=</span><span class="s2">"Alice"</span> <span class="o">[</span>age]<span class="o">=</span>30<span class="o">)</span>
aarr+<span class="o">=([</span>city]<span class="o">=</span><span class="s2">"Paris"</span> <span class="o">[</span>job]<span class="o">=</span><span class="s2">"Engineer"</span><span class="o">)</span> <span class="c"># Add new key-value pairs</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">aarr</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="c"># Alice 30 Paris Engineer (unordered)</span>
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">*</code> in the value of a variable is not expanded, but is treated as a normal character. You can use <code class="language-plaintext highlighter-rouge">(*.txt)</code> to expand to all <code class="language-plaintext highlighter-rouge">.txt</code> files.</p> <p><strong>NOTE</strong>: The variable can be unset by the <code class="language-plaintext highlighter-rouge">unset</code> command.</p> <h3 id="positional-parameters">Positional Parameters</h3> <p>A positional parameter is a parameter denoted by one or more digits, other than the single digit 0.</p> <p>Positional parameters are assigned from the shell’s arguments when it is invoked, and may be reassigned using the <code class="language-plaintext highlighter-rouge">set</code> builtin command. Positional parameters may not be assigned to with assignment statements. The positional parameters are temporarily replaced when a shell function is executed.</p> <p>When a positional parameter consisting of more than a single digit is expanded, it must be enclosed in braces.</p> <p>You can update positional parameters with <code class="language-plaintext highlighter-rouge">set</code> command, for example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Set all the positional parameters with 1 2 3 4</span>
<span class="nb">set</span> <span class="nt">--</span> 1 2 3 4

<span class="nv">args</span><span class="o">=(</span><span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="o">)</span> <span class="c"># Copy positional args into an array</span>
args[1]<span class="o">=</span><span class="s2">"mango"</span> <span class="c"># Change the second element (index 1)</span>
<span class="nb">set</span> <span class="nt">--</span> <span class="s2">"</span><span class="k">${</span><span class="nv">args</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span> <span class="c"># Reset positional arguments</span>

<span class="nb">set</span> <span class="nt">--</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="s2">"bird"</span> <span class="c"># Append "bird"</span>

<span class="nb">set</span> <span class="nt">--</span> <span class="s2">"fish"</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="c"># Prepend "fish"</span>

<span class="c"># Remove the first positional parameter</span>
<span class="c"># After this, the $1 is the value of original $2</span>
<span class="nb">shift</span> <span class="c"># or shift 1</span>

<span class="nv">args</span><span class="o">=(</span><span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="o">)</span>
<span class="nb">unset</span> <span class="s1">'args[2]'</span> <span class="c"># Remove the second positional parameter</span>
<span class="nb">set</span> <span class="nt">--</span> <span class="s2">"</span><span class="k">${</span><span class="nv">args</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">0</code> is not a positional parameter, it is a special parameter, which will be expanded to the name of the shell or shell script.</p> <h3 id="special-parameters">Special Parameters</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">$*</code>: All positional parameters, each of which expands to a separate word.</li> <li> <code class="language-plaintext highlighter-rouge">"$*"</code>: A single string with all positional parameters separated by the first character of the <code class="language-plaintext highlighter-rouge">IFS</code> variable. If <code class="language-plaintext highlighter-rouge">IFS</code> is unset, the parameters are separated by spaces. If <code class="language-plaintext highlighter-rouge">IFS</code> is null, the parameters are joined without intervening separators.</li> <li> <code class="language-plaintext highlighter-rouge">$@</code>: All positional parameters, each of which expands to a separate word.</li> <li> <code class="language-plaintext highlighter-rouge">"$@"</code>: Equivalent to <code class="language-plaintext highlighter-rouge">"$1" "$2" ... "$N"</code> (where N is the number of positional parameters). <code class="language-plaintext highlighter-rouge">prefix"$@"suffix</code> will be parsed as <code class="language-plaintext highlighter-rouge">prefix"$1" "$2" ... "$N"suffix</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$#</code>: The number of positional parameters in decimal.</li> <li> <code class="language-plaintext highlighter-rouge">$?</code>: The exit status of the most recently executed foreground pipeline.</li> <li> <code class="language-plaintext highlighter-rouge">$$</code>: The process ID of the shell. In a sub-shell, it expands to the process ID of the current shell, not the sub-shell.</li> <li> <code class="language-plaintext highlighter-rouge">$!</code>: The process ID of the job most recently placed into the background.</li> <li> <code class="language-plaintext highlighter-rouge">$0</code>: The name of the shell or shell script. If bash is invoked with a file of commands, <code class="language-plaintext highlighter-rouge">$0</code> is set to the name of that file. If bash is started with the <code class="language-plaintext highlighter-rouge">-c</code> option, then <code class="language-plaintext highlighter-rouge">$0</code> is set to the first argument after the string to be executed, if one is present. Otherwise, it is set to the filename used to invoke bash, as given by argument zero.</li> <li> <code class="language-plaintext highlighter-rouge">$_</code>: The last argument of the previous command or script path.</li> <li> <code class="language-plaintext highlighter-rouge">$-</code>: The current option flags as specified upon invocation, by the set builtin command, or those set by the shell itself (such as the -i option).</li> </ul> <p>The characters of <code class="language-plaintext highlighter-rouge">$-</code> and their meanings:</p> <table> <thead> <tr> <th>Flag</th> <th>Meaning</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">h</code></td> <td>hashall (remembers command locations in <code class="language-plaintext highlighter-rouge">$PATH</code>)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">i</code></td> <td>interactive shell</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">m</code></td> <td>monitor mode (job control enabled)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">H</code></td> <td>history expansion enabled (e.g., <code class="language-plaintext highlighter-rouge">!!</code> expands to the last command)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">B</code></td> <td>brace expansion enabled (e.g., <code class="language-plaintext highlighter-rouge">{a, b}</code> expands to <code class="language-plaintext highlighter-rouge">a b</code>)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">s</code></td> <td>compounds read from stdin (e.g., <code class="language-plaintext highlighter-rouge">bash -s</code> </td> </tr> </tbody> </table> <h3 id="arrays">Arrays</h3> <p>An indexed array is created automatically if any variable is assigned to using the syntax <code class="language-plaintext highlighter-rouge">name[subscript]=value</code>. The subscript is treated as an arithmetic expression that must evaluate to a number.</p> <p>For an indexed array, you can use negative index, which will count back from the end of the array. For example, <code class="language-plaintext highlighter-rouge">a[-1]</code> means the last element, and <code class="language-plaintext highlighter-rouge">a[-2]</code> means the second to last.</p> <p>You can reference an element of any array with <code class="language-plaintext highlighter-rouge">${name[subscript]}</code>. You can not omit the braces.</p> <p>You can use <code class="language-plaintext highlighter-rouge">${name[@]}</code> or <code class="language-plaintext highlighter-rouge">${name[*]}</code> to get all assigned values, and <code class="language-plaintext highlighter-rouge">${!name[@]}</code> or <code class="language-plaintext highlighter-rouge">${!name[@]}</code> to get all assigned indices. They difference between them when they are double-quoted is similar with the one between <code class="language-plaintext highlighter-rouge">"$@"</code> and <code class="language-plaintext highlighter-rouge">"$*"</code>.</p> <p><code class="language-plaintext highlighter-rouge">${#name[subscript]}</code> expands to the length of <code class="language-plaintext highlighter-rouge">${name[subscript]}</code>. If subscript is <code class="language-plaintext highlighter-rouge">*</code> or <code class="language-plaintext highlighter-rouge">@</code>, the expansion is the number of elements in the array.</p> <p><code class="language-plaintext highlighter-rouge">$name</code> is equivalent to <code class="language-plaintext highlighter-rouge">${name[0]}</code>.</p> <p><code class="language-plaintext highlighter-rouge">unset ${name[0]}</code> can destroy the first element of the array.</p> <p><code class="language-plaintext highlighter-rouge">unset name</code> or <code class="language-plaintext highlighter-rouge">unset ${name[@]}</code> or <code class="language-plaintext highlighter-rouge">unset ${name[*]}</code> will removes the entire array.</p> <p>You can use <code class="language-plaintext highlighter-rouge">declare -a name</code> to create an array called <code class="language-plaintext highlighter-rouge">name</code>.</p> <p>You can use <code class="language-plaintext highlighter-rouge">declare -A name</code> to create an associative array called <code class="language-plaintext highlighter-rouge">name</code>.</p> <p><code class="language-plaintext highlighter-rouge">declare -a -A name</code> is equivalent to <code class="language-plaintext highlighter-rouge">declare -A name</code>.</p> <p>For an associative array, Using <code class="language-plaintext highlighter-rouge">name=( key1 value1 key2 value2...)</code> and <code class="language-plaintext highlighter-rouge">name=( [key1]=value1 [key2]=value2 ...)</code> to assign value are both OK. But you can not mixed these two types like <code class="language-plaintext highlighter-rouge">myarr=( key1 value1 [key2]=value2 )</code>. If you leave off a value at the end, it’s treated as the empty string. In <code class="language-plaintext highlighter-rouge">declare -A myarr=( key1 value1 key2 )</code>, <code class="language-plaintext highlighter-rouge">myarr[key2]</code> is an empty string.</p> <p>When using a variable name with a subscript as an argument to a command, such as with unset (<code class="language-plaintext highlighter-rouge">unset arr[i]</code>), without using the word expansion syntax described above (<code class="language-plaintext highlighter-rouge">unset ${arr[i]}</code>), the argument is subject to pathname expansion (expands to <code class="language-plaintext highlighter-rouge">unset arri</code>). If pathname expansion is not desired, the argument should be quoted (<code class="language-plaintext highlighter-rouge">unset 'arr[i]'</code> or <code class="language-plaintext highlighter-rouge">unset "arr[i]"</code>).</p> <h3 id="expansion">Expansion</h3> <p>The order of expansions is:</p> <ul> <li>brace expansion;</li> <li>tilde expansion, parameter and variable expansion, arithmetic expansion, command substitution (done in a left-to-right fashion) and process substitution (if the system supports it);</li> <li>word splitting;</li> <li>pathname expansion.</li> </ul> <p>After these expansions are performed, quote characters present in the original word are removed unless they have been quoted themselves (quote removal).</p> <h4 id="brace-expansion">Brace Expansion</h4> <p>This is the expansion of <code class="language-plaintext highlighter-rouge">{}</code> see <a href="#wildcards">Wildcards</a>.</p> <h4 id="tilde-expansion">Tilde Expansion</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">~</code>: Current user’s home (<code class="language-plaintext highlighter-rouge">$HOME</code>).</li> <li> <code class="language-plaintext highlighter-rouge">~username</code>: Home directory of <code class="language-plaintext highlighter-rouge">username</code>.</li> <li> <code class="language-plaintext highlighter-rouge">~+</code>: Current working directory (<code class="language-plaintext highlighter-rouge">$PWD</code>).</li> <li> <code class="language-plaintext highlighter-rouge">~-</code>: Previous working directory (<code class="language-plaintext highlighter-rouge">$OLDPWD</code>).</li> <li> <code class="language-plaintext highlighter-rouge">"~"</code> or <code class="language-plaintext highlighter-rouge">'~'</code>: Literal <code class="language-plaintext highlighter-rouge">~</code> (no expansion).</li> <li> <code class="language-plaintext highlighter-rouge">~+number</code>: The <code class="language-plaintext highlighter-rouge">number</code>-th entry of the output <code class="language-plaintext highlighter-rouge">dirs</code> (0-indexed).</li> <li> <code class="language-plaintext highlighter-rouge">~-number</code>: The <code class="language-plaintext highlighter-rouge">number</code>-last entry of the output <code class="language-plaintext highlighter-rouge">dirs</code> (1-indexed).</li> <li> <code class="language-plaintext highlighter-rouge">~number</code>: Same as <code class="language-plaintext highlighter-rouge">~+number</code>.</li> </ul> <p><strong>NOTE:</strong> You can use <code class="language-plaintext highlighter-rouge">pushd</code> to add directory to <code class="language-plaintext highlighter-rouge">dirs</code> and <code class="language-plaintext highlighter-rouge">popd</code> to remove directory from <code class="language-plaintext highlighter-rouge">dirs</code>.</p> <h4 id="parameter-and-variable-expansion">Parameter and Variable Expansion</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter}</code>: The value of parameter is substituted. Sometimes, the braces can be omitted.</li> <li> <code class="language-plaintext highlighter-rouge">${!parameter}</code>: Expands to the value of the variable named by <code class="language-plaintext highlighter-rouge">parameter</code>. For example:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">foo</span><span class="o">=</span><span class="s1">'Hello'</span>
<span class="nv">bar</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">!bar</span><span class="k">}</span><span class="s2">"</span> <span class="c"># Hello</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${!nameref}</code>: Expands to the referenced name, for example:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">declare</span> <span class="nt">-n</span> <span class="nv">nameref_var</span><span class="o">=</span><span class="s2">"target_var"</span>  <span class="c"># nameref_var is a reference to target_var</span>
<span class="nv">target_var</span><span class="o">=</span><span class="s2">"Hello"</span>

<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$nameref_var</span><span class="s2">"</span> <span class="c"># Hello (dereferences automatically)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">!nameref_var</span><span class="k">}</span><span class="s2">"</span> <span class="c"># target_var (returns the referenced name)</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${!prefix*}</code> or <code class="language-plaintext highlighter-rouge">${prefix@}</code>: Expands to the values of variables whose names begin with <code class="language-plaintext highlighter-rouge">prefix</code>. For example:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>1
<span class="nv">aa</span><span class="o">=</span>11
<span class="nv">aaa</span><span class="o">=</span>111
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">!a*</span><span class="k">}</span><span class="s2">"</span> <span class="c"># 1 11 111 (all variables starting with a)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">!a@</span><span class="k">}</span><span class="s2">"</span> <span class="c"># 1 11 111 (all variables starting with a)</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter:offset}</code>: Expands to the substring of the value of <code class="language-plaintext highlighter-rouge">parameter</code> starting at the character specified by <code class="language-plaintext highlighter-rouge">offset</code>.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter:offset:length}</code>: Expands to the substring of the value of <code class="language-plaintext highlighter-rouge">parameter</code> starting at the character specified by <code class="language-plaintext highlighter-rouge">offset</code> and extending for <code class="language-plaintext highlighter-rouge">length</code> characters. For examples:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Basic usage</span>
<span class="nv">str</span><span class="o">=</span><span class="s2">"Hello, World!"</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">str</span>:7<span class="k">}</span><span class="s2">"</span> <span class="c"># World! (substring starting at index 7)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">str</span>:7:5<span class="k">}</span><span class="s2">"</span> <span class="c"># World (substring starting at index 7 and length 5)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">str</span>:7:-1<span class="k">}</span><span class="s2">"</span> <span class="c"># World (substring starting at index 7 and end at -1)</span>
<span class="c"># The space between `:` and `-` is required to avoid confusion with the `:-` expansion</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">str</span>:<span class="p"> -6</span><span class="k">}</span><span class="s2">"</span> <span class="c"># World! (substring starting at index -6)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">str</span>:<span class="p"> -6</span>:5<span class="k">}</span><span class="s2">"</span> <span class="c"># World (substring starting at index -6 and length 5)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">str</span>:<span class="p"> -6</span><span class="k">:-</span><span class="nv">1</span><span class="k">}</span><span class="s2">"</span> <span class="c"># World (substring starting at index -6 and end at -1)</span>

<span class="c"># For @</span>
<span class="nb">set</span> <span class="nt">--</span> A B C D E
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">@</span>:0:1<span class="k">}</span><span class="s2">"</span> <span class="c"># the name of the script or the shell</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">@</span>:2<span class="k">}</span><span class="s2">"</span> <span class="c"># B C D E (substring starting at index 2)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">@</span>:2:3<span class="k">}</span><span class="s2">"</span> <span class="c"># B C D (substring starting at index 2 and length 3)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">@</span>:<span class="p"> -3</span><span class="k">}</span><span class="s2">"</span> <span class="c"># C D E (substring starting at index -3)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="p">@</span>:<span class="p"> -3</span>:2<span class="k">}</span><span class="s2">"</span> <span class="c"># C D (substring starting at index -3 and length 2)</span>
<span class="c"># echo "${@:2:-1}" # Error, the length can not be negative for @</span>

<span class="c"># For indexed array</span>
<span class="nv">arr</span><span class="o">=(</span>A B C D E<span class="o">)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:2<span class="k">}</span><span class="s2">"</span> <span class="c"># C D E (substring starting at index 2)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:2:3<span class="k">}</span><span class="s2">"</span> <span class="c"># C D E (substring starting at index 2 and length 3)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:<span class="p"> -3</span><span class="k">}</span><span class="s2">"</span> <span class="c"># C D E (substring starting at index -3)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">arr</span><span class="p">[@]</span>:<span class="p"> -3</span>:2<span class="k">}</span><span class="s2">"</span> <span class="c"># C D (substring starting at index -3 and length 2)</span>
<span class="c"># echo "${arr[@]:2:-1}" # Error, the length can not be negative for an indexed array</span>

<span class="c"># Undefined results for associative array</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${!array[@]}</code> or <code class="language-plaintext highlighter-rouge">${!array[*]}</code>: Expands to the indices of the array <code class="language-plaintext highlighter-rouge">array</code>.</li> <li> <code class="language-plaintext highlighter-rouge">${#parameter}</code>: The length of the value of <code class="language-plaintext highlighter-rouge">parameter</code> is substituted.</li> <li> <code class="language-plaintext highlighter-rouge">${#*}</code> or <code class="language-plaintext highlighter-rouge">${#@}</code>: Same with <code class="language-plaintext highlighter-rouge">$#</code>: the number of positional parameters.</li> </ul> <p>For those below, you can remove <code class="language-plaintext highlighter-rouge">:</code> to make it only work for unset variables:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter:-word}</code>: Expands to <code class="language-plaintext highlighter-rouge">word</code> if <code class="language-plaintext highlighter-rouge">parameter</code> is unset or null; otherwise, it expands to the value of <code class="language-plaintext highlighter-rouge">parameter</code>.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter:=word}</code>: Assigns <code class="language-plaintext highlighter-rouge">word</code> to <code class="language-plaintext highlighter-rouge">parameter</code> and expands to <code class="language-plaintext highlighter-rouge">word</code> if <code class="language-plaintext highlighter-rouge">parameter</code> is unset or null; otherwise, it expands to the value of <code class="language-plaintext highlighter-rouge">parameter</code>. You can not use this to positional parameters.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter:?word}</code>: <code class="language-plaintext highlighter-rouge">word</code> is written to standard error if <code class="language-plaintext highlighter-rouge">parameter</code> is unset or null, if it is not interactive, exits; otherwise, it expands to the value of <code class="language-plaintext highlighter-rouge">parameter</code>.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter:+word}</code>: Nothing is substituted if <code class="language-plaintext highlighter-rouge">parameter</code> is null or unset; otherwise, the expansion of <code class="language-plaintext highlighter-rouge">word</code> is substituted.</li> </ul> <p>For those below, if <code class="language-plaintext highlighter-rouge">parameter</code> is <code class="language-plaintext highlighter-rouge">@</code> or <code class="language-plaintext highlighter-rouge">*</code> or an array subscripted with <code class="language-plaintext highlighter-rouge">@</code> or <code class="language-plaintext highlighter-rouge">*</code>, the pattern removal operation is applied to each element in turn, and the expansion is the resultant list:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter#word}</code>: Removes the shortest match of <code class="language-plaintext highlighter-rouge">word</code> from the beginning of <code class="language-plaintext highlighter-rouge">parameter</code>. Wildcards are allowed in <code class="language-plaintext highlighter-rouge">word</code>. See <a href="#wildcards">Wildcards</a>.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter##word}</code>: Removes the longest match of <code class="language-plaintext highlighter-rouge">word</code> from the beginning of <code class="language-plaintext highlighter-rouge">parameter</code>. Wildcards are allowed in <code class="language-plaintext highlighter-rouge">word</code>. See <a href="#wildcards">Wildcards</a>.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter%word}</code>: Similar to <code class="language-plaintext highlighter-rouge">${parameter#word}</code> but removes the suffix instead of the prefix.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter%%word}</code>: Similar to <code class="language-plaintext highlighter-rouge">${parameter##word}</code> but removes the suffix instead of the prefix.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@U}</code>: Converts the value of <code class="language-plaintext highlighter-rouge">parameter</code> to uppercase.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@u}</code>: Converts the first character of the value of <code class="language-plaintext highlighter-rouge">parameter</code> to uppercase.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@L}</code>: Converts the value of <code class="language-plaintext highlighter-rouge">parameter</code> to lowercase.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@a}</code>: Expands to the attributes of <code class="language-plaintext highlighter-rouge">parameter</code>.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@E}</code>: Expands to a string with all the escaped characters expanded (such as <code class="language-plaintext highlighter-rouge">\n</code> -&gt; newline).</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@A}</code>: Expands to a string whose value, if evaluated, will recreate <code class="language-plaintext highlighter-rouge">parameter</code> with its attributes and value. If used for array variables, you should use <code class="language-plaintext highlighter-rouge">${a[@]@A}</code> to get the string.</li> <li> <code class="language-plaintext highlighter-rouge">${parameter@Q}</code>: Expands to a single-Quoted string with any special characters (such as <code class="language-plaintext highlighter-rouge">\n</code>, <code class="language-plaintext highlighter-rouge">\t</code>, etc.) escaped. For examples:</li> </ul> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="err">'</span><span class="n">Hello</span> <span class="n">World</span><span class="err">'</span>
<span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="err">'</span><span class="n">Hello</span><span class="sc">' '</span><span class="n">World</span><span class="err">'</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">-</span><span class="n">A</span> <span class="n">c</span><span class="o">=</span><span class="p">([</span><span class="n">first</span><span class="p">]</span><span class="o">=</span><span class="err">'</span><span class="n">Hello</span><span class="err">'</span> <span class="p">[</span><span class="n">second</span><span class="p">]</span><span class="o">=</span><span class="err">'</span><span class="n">World</span><span class="err">'</span><span class="p">)</span>
<span class="n">echo</span> <span class="s">"${a@Q}"</span> <span class="err">#</span> <span class="err">'</span><span class="n">Hello</span> <span class="n">World</span><span class="err">'</span>
<span class="n">echo</span> <span class="s">"${b[@]@Q}"</span> <span class="err">#</span> <span class="err">'</span><span class="n">Hello</span><span class="sc">' '</span><span class="n">World</span><span class="err">'</span>
<span class="n">echo</span> <span class="s">"${c[@]@Q}"</span> <span class="err">#</span> <span class="err">'</span><span class="n">World</span><span class="sc">' '</span><span class="n">Hello</span><span class="err">'</span> <span class="p">(</span><span class="n">unordered</span><span class="p">)</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter@K}</code>: Similar to <code class="language-plaintext highlighter-rouge">${parameter@Q}</code>, but this will print the values of indexed and associative arrays as a sequence of quoted key-value pairs. For examples:</li> </ul> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="err">'</span><span class="n">Hello</span> <span class="n">World</span><span class="err">'</span>
<span class="n">b</span><span class="o">=</span><span class="p">(</span><span class="err">'</span><span class="n">Hello</span><span class="sc">' '</span><span class="n">World</span><span class="err">'</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">-</span><span class="n">A</span> <span class="n">c</span><span class="o">=</span><span class="p">([</span><span class="n">first</span><span class="p">]</span><span class="o">=</span><span class="err">'</span><span class="n">Hello</span><span class="err">'</span> <span class="p">[</span><span class="n">second</span><span class="p">]</span><span class="o">=</span><span class="err">'</span><span class="n">World</span><span class="err">'</span><span class="p">)</span>
<span class="n">echo</span> <span class="s">"${a@K}"</span> <span class="err">#</span> <span class="err">'</span><span class="n">Hello</span> <span class="n">World</span><span class="err">'</span>
<span class="n">echo</span> <span class="s">"${b[@]@K}"</span> <span class="err">#</span> <span class="mi">0</span> <span class="s">"Hello"</span> <span class="mi">1</span> <span class="s">"World"</span>
<span class="n">echo</span> <span class="s">"${c[@]@K}"</span> <span class="err">#</span> <span class="n">first</span> <span class="s">"Hello"</span> <span class="n">second</span> <span class="s">"World"</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter@P}</code>: Expands as if it were a prompt string. For examples:</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PS1</span><span class="o">=</span><span class="s1">'\u@\h:\w\$ '</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PS1</span><span class="p">@P</span><span class="k">}</span><span class="s2">"</span> <span class="c"># user@host:/path$  (expands prompt codes)</span>
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">${parameter/pattern/string}</code>: Replace the longest match of <code class="language-plaintext highlighter-rouge">pattern</code> with <code class="language-plaintext highlighter-rouge">string</code>. If <code class="language-plaintext highlighter-rouge">pattern</code> begins with <code class="language-plaintext highlighter-rouge">/</code>, all matches of <code class="language-plaintext highlighter-rouge">pattern</code> are replaced with <code class="language-plaintext highlighter-rouge">string</code>. If <code class="language-plaintext highlighter-rouge">pattern</code> begins with <code class="language-plaintext highlighter-rouge">#</code>, it must match at the beginning of the expanded value of <code class="language-plaintext highlighter-rouge">parameter</code>. If <code class="language-plaintext highlighter-rouge">pattern</code> begins with <code class="language-plaintext highlighter-rouge">%</code>, it must match at the end of the expanded value of <code class="language-plaintext highlighter-rouge">parameter</code>. If <code class="language-plaintext highlighter-rouge">string</code> is null, matches of <code class="language-plaintext highlighter-rouge">pattern</code> are deleted and the <code class="language-plaintext highlighter-rouge">/</code> following <code class="language-plaintext highlighter-rouge">pattern</code> may be omitted. If the <code class="language-plaintext highlighter-rouge">nocasematch</code> shell option is enabled, the match is performed without regard to the case of alphabetic characters.</li> <li> <code class="language-plaintext highlighter-rouge">${paramter^pattern}</code>: Convert the first match of <code class="language-plaintext highlighter-rouge">pattern</code> to uppercase. The <code class="language-plaintext highlighter-rouge">pattern</code> can only match one character. If <code class="language-plaintext highlighter-rouge">pattern</code> is omitted, it is treated like a <code class="language-plaintext highlighter-rouge">?</code>, which matches every character. Wildcards are allowed in <code class="language-plaintext highlighter-rouge">pattern</code>. See <a href="#wildcards">Wildcards</a>.</li> <li> <code class="language-plaintext highlighter-rouge">${paramter^^pattern}</code>: Convert all matches of <code class="language-plaintext highlighter-rouge">pattern</code> to uppercase. The <code class="language-plaintext highlighter-rouge">pattern</code> can only match one character. If <code class="language-plaintext highlighter-rouge">pattern</code> is omitted, it is treated like a <code class="language-plaintext highlighter-rouge">?</code>, which matches every character. Wildcards are allowed in <code class="language-plaintext highlighter-rouge">pattern</code>. See <a href="#wildcards">Wildcards</a>.</li> <li> <code class="language-plaintext highlighter-rouge">${paramter,pattern}</code>: Convert the first match of <code class="language-plaintext highlighter-rouge">pattern</code> to lowercase. The <code class="language-plaintext highlighter-rouge">pattern</code> can only match one character. If <code class="language-plaintext highlighter-rouge">pattern</code> is omitted, it is treated like a <code class="language-plaintext highlighter-rouge">?</code>, which matches every character. Wildcards are allowed in <code class="language-plaintext highlighter-rouge">pattern</code>. See <a href="#wildcards">Wildcards</a>.</li> <li> <code class="language-plaintext highlighter-rouge">${paramter,,pattern}</code>: Convert all matches of <code class="language-plaintext highlighter-rouge">pattern</code> to lowercase. The <code class="language-plaintext highlighter-rouge">pattern</code> can only match one character. If <code class="language-plaintext highlighter-rouge">pattern</code> is omitted, it is treated like a <code class="language-plaintext highlighter-rouge">?</code>, which matches every character. Wildcards are allowed in <code class="language-plaintext highlighter-rouge">pattern</code>. See <a href="#wildcards">Wildcards</a>.</li> </ul> <h4 id="arithmetic-expansion">Arithmetic Expansion</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">$$(expression)</code>: The value of <code class="language-plaintext highlighter-rouge">expression</code> is substituted.</li> </ul> <h4 id="command-substitution">Command Substitution</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">$(command)</code> or <code class="language-plaintext highlighter-rouge">`command`</code>: The standard output of <code class="language-plaintext highlighter-rouge">command</code> is substituted with trailing newlines deleted.</li> </ul> <h4 id="process-substitution">Process Substitution</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">&lt;(command)</code>: Provides the output of <code class="language-plaintext highlighter-rouge">command</code> as a file that can be read from.</li> <li> <code class="language-plaintext highlighter-rouge">&gt;(command)</code>: Provides a file that, when written to, becomes the input for <code class="language-plaintext highlighter-rouge">command</code> </li> </ul> <h4 id="word-splitting">Word Splitting</h4> <p>The part depends on the <code class="language-plaintext highlighter-rouge">IFS</code> variable.</p> <p>The shell scans the results of parameter expansion, command substitution, and arithmetic expansion that did not occur within double quotes for word splitting.</p> <p>You can put variables in double quotes to prevent word splitting, for examples:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span><span class="s1">'1 2   3'</span>
<span class="nb">echo</span> <span class="nv">$a</span> <span class="c"># 1 2 3</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$a</span><span class="s2">"</span> <span class="c"># 1 2   3</span>

<span class="nb">set</span> <span class="nt">--</span> <span class="nv">$a</span>
<span class="nb">echo</span> <span class="nv">$# </span><span class="c"># 3</span>
<span class="nb">set</span> <span class="nt">--</span> <span class="s2">"</span><span class="nv">$a</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="nv">$# </span><span class="c"># 1</span>
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">IFS</code> default to <code class="language-plaintext highlighter-rouge">space</code>, <code class="language-plaintext highlighter-rouge">tab</code>, and <code class="language-plaintext highlighter-rouge">newline</code>.</p> <h4 id="pathname-expansion">Pathname Expansion</h4> <p>See <a href="#wildcards">Wildcards</a>.</p> <h4 id="quote-removal">Quote Removal</h4> <p>After the preceding expansions, all unquoted occurrences of the characters <code class="language-plaintext highlighter-rouge">\</code>, <code class="language-plaintext highlighter-rouge">'</code>, and <code class="language-plaintext highlighter-rouge">"</code> that did not result from one of the above expansions are removed.</p> <h2 id="environment-variables">Environment Variables</h2> <h3 id="locality">Locality</h3> <table> <thead> <tr> <th>Variable</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">LC_ALL</code></td> <td>Overrides all locale settings</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_CTYPE</code></td> <td>Character classification and case conversion</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_COLLATE</code></td> <td>String collation order</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_MESSAGES</code></td> <td>Language for system messages</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_TIME</code></td> <td>Date and time formatting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_NUMERIC</code></td> <td>Number formatting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_MONETARY</code></td> <td>Currency formatting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_PAPER</code></td> <td>Paper size and format</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_NAME</code></td> <td>Name formatting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_ADDRESS</code></td> <td>Address formatting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_TELEPHONE</code></td> <td>Telephone number formatting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_MEASUREMENT</code></td> <td>Measurement units</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LC_IDENTIFICATION</code></td> <td>Locale identification</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LANG</code></td> <td>Default locale setting</td> </tr> </tbody> </table> <p>The priority of locale settings:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LC_ALL <span class="o">&gt;</span> LC_<span class="k">*</span> <span class="o">(</span>specific category<span class="o">)</span> <span class="o">&gt;</span> LANG
</code></pre></div></div> <p><strong>NOTE</strong>: There is another variable called <code class="language-plaintext highlighter-rouge">LANGUAGE</code> which is used to specify the language priority list for messages.</p> <h2 id="commands">Commands</h2> <h3 id="awk"><code class="language-plaintext highlighter-rouge">awk</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-F</code></td> <td>Specify the input field separator</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Specify the file containing the <code class="language-plaintext highlighter-rouge">awk</code> script</td> </tr> </tbody> </table> <p><strong>Digressing</strong>: <code class="language-plaintext highlighter-rouge">awk</code> comes from the initials of its three creators: <code class="language-plaintext highlighter-rouge">Alfred Aho</code>, <code class="language-plaintext highlighter-rouge">Peter Weinberger</code>, and <code class="language-plaintext highlighter-rouge">Brian Kernighan</code>.</p> <h4 id="column-variables">Column Variables</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">$0</code>: the whole line.</li> <li> <code class="language-plaintext highlighter-rouge">$1</code>: the first column.</li> <li><code class="language-plaintext highlighter-rouge">...</code></li> <li> <code class="language-plaintext highlighter-rouge">$NF</code>: the last column (where <code class="language-plaintext highlighter-rouge">NF</code> is the number of fields in the current record).</li> </ul> <p>For example, <code class="language-plaintext highlighter-rouge">awk '{print $1, $2, $NF}' file</code> will print the first column, second column, and last column of each line in <code class="language-plaintext highlighter-rouge">file</code>.</p> <h4 id="separators">Separators</h4> <p>You can specify the output field separator (OFS) using the <code class="language-plaintext highlighter-rouge">OFS</code> variable. For example, <code class="language-plaintext highlighter-rouge">awk '{print $1,$2,$NF}' OFS=","</code> will print the first column, second column, and last column of each line in <code class="language-plaintext highlighter-rouge">file</code>, separated by a comma.</p> <p>Is is also possible to specify <code class="language-plaintext highlighter-rouge">OFS</code> in the <code class="language-plaintext highlighter-rouge">BEGIN</code> mode string, for example: <code class="language-plaintext highlighter-rouge">awk 'BEGIN {OFS=","} {print $1,$2,$NF}' file</code> does the same thing.</p> <p>Besides, <code class="language-plaintext highlighter-rouge">FS</code> is used to specify the input field separator.</p> <p>If you want to change the separators, you may write the wrong command like <code class="language-plaintext highlighter-rouge">awk '{print}' FS=':' OFS=' '</code> trying to change <code class="language-plaintext highlighter-rouge">:</code> to a space, but this will not work as expected. In <code class="language-plaintext highlighter-rouge">awk</code>, it will only use the new <code class="language-plaintext highlighter-rouge">OFS</code> when printing multiple fields, or when the fields are modified. Therefore, we can use <code class="language-plaintext highlighter-rouge">awk '($1=$1) || 1' FS=':' OFS=' '</code> to update the <code class="language-plaintext highlighter-rouge">OFS</code>, which is trying to change the first field to itself. And we use <code class="language-plaintext highlighter-rouge">|| 1</code> here to make sure the empty lines are also printed.</p> <p><strong>NOTE</strong>: The parentheses around <code class="language-plaintext highlighter-rouge">$1=$1</code> are necessary, because without them, <code class="language-plaintext highlighter-rouge">awk</code> would interpret it as <code class="language-plaintext highlighter-rouge">$1=($1 || 1)</code>, which would assign <code class="language-plaintext highlighter-rouge">1</code> to <code class="language-plaintext highlighter-rouge">$1</code> instead of keeping its original value.</p> <h4 id="predefined-variables">Predefined Variables</h4> <p><code class="language-plaintext highlighter-rouge">OFS</code>, <code class="language-plaintext highlighter-rouge">FS</code> are predefined variables in <code class="language-plaintext highlighter-rouge">awk</code>, which are used to specify the output and input field separators respectively.</p> <p>And there are some other predefined variables in <code class="language-plaintext highlighter-rouge">awk</code>:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">NR</code>: current record number starting from <code class="language-plaintext highlighter-rouge">1</code>.</li> <li> <code class="language-plaintext highlighter-rouge">NF</code>: number of fields in the current record .</li> <li> <code class="language-plaintext highlighter-rouge">RS</code>: input record separator, default is newline.</li> <li> <code class="language-plaintext highlighter-rouge">ORS</code>: output record separator, default is newline.</li> <li> <code class="language-plaintext highlighter-rouge">FILENAME</code>: the name of the current input file.</li> <li> <code class="language-plaintext highlighter-rouge">FNR</code>: current record number in the current file.</li> </ul> <p>We can use <code class="language-plaintext highlighter-rouge">awk 'NR &gt; 1'</code> to print all lines except the first line, and <code class="language-plaintext highlighter-rouge">awk 'NF &gt; 0'</code> to print non-empty lines (i.e., remove empty lines).</p> <p>We can use <code class="language-plaintext highlighter-rouge">awk 'NR == 1, NR == 4'</code> or <code class="language-plaintext highlighter-rouge">awk 'NR &gt;= 1 &amp;&amp; NR &lt;= 4'</code> to print the first four lines.</p> <h4 id="patterns">Patterns</h4> <p><code class="language-plaintext highlighter-rouge">BEGIN</code> and <code class="language-plaintext highlighter-rouge">END</code>:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">BEGIN</code>: executed before processing any input.</li> <li> <code class="language-plaintext highlighter-rouge">END</code>: executed after processing all input.</li> </ul> <p>For example, you can use <code class="language-plaintext highlighter-rouge">awk 'BEGIN {print "Start"} {print} END {print "End"}'</code> to print the contents of a file with <code class="language-plaintext highlighter-rouge">Start</code> and <code class="language-plaintext highlighter-rouge">End</code> messages.</p> <p>In <code class="language-plaintext highlighter-rouge">awk</code>, you can use patterns to filter lines, for example, <code class="language-plaintext highlighter-rouge">awk '$1 &gt; 10'</code> means to print only the lines where the first column is greater than <code class="language-plaintext highlighter-rouge">10</code> (when no action is specified, the default action is to print the whole line). <code class="language-plaintext highlighter-rouge">awk '/pattern/'</code> means to print only the lines that contain <code class="language-plaintext highlighter-rouge">pattern</code>, and the search pattern supports regular expressions. <code class="language-plaintext highlighter-rouge">awk '/pattern1/,/pattern2/'</code> means to print all lines from the first line that matches <code class="language-plaintext highlighter-rouge">pattern1</code> to the first line that matches <code class="language-plaintext highlighter-rouge">pattern2</code>.</p> <p>You can use <code class="language-plaintext highlighter-rouge">~</code> and <code class="language-plaintext highlighter-rouge">!~</code> to search for patterns in a column. For example, <code class="language-plaintext highlighter-rouge">awk '$1 ~ /pattern/'</code> means to print only the lines that match the regular expression <code class="language-plaintext highlighter-rouge">pattern</code> in the first column. <code class="language-plaintext highlighter-rouge">awk '$1 !~ /pattern/'</code> means to print only the lines that do not match the regular expression <code class="language-plaintext highlighter-rouge">pattern</code> in the first column.</p> <h4 id="awk-scripts"> <code class="language-plaintext highlighter-rouge">awk</code> Scripts</h4> <p>For some complex tasks, you can write <code class="language-plaintext highlighter-rouge">awk</code> scripts. Here is an example of a simple <code class="language-plaintext highlighter-rouge">awk</code> script that statistics the number of words in a file:</p> <div class="language-awk highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#! /usr/bin/awk -f</span>

<span class="kr">BEGIN</span> <span class="p">{</span>
    <span class="c1"># Update the input and output field separators</span>
    <span class="kc">FS</span><span class="o">=</span><span class="s2">":"</span>
    <span class="kc">OFS</span><span class="o">=</span><span class="s2">" "</span>
    <span class="nx">tot_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="kc">NF</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">words</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="o">++</span>
        <span class="nx">tot_count</span><span class="o">++</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kr">END</span> <span class="p">{</span>
    <span class="k">print</span> <span class="s2">"Total words:"</span><span class="p">,</span> <span class="nx">tot_count</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">word</span> <span class="o">in</span> <span class="nx">words</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">print</span> <span class="nx">word</span><span class="p">,</span> <span class="nx">words</span><span class="p">[</span><span class="nx">word</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">awk file</code> is not the right way to run an <code class="language-plaintext highlighter-rouge">awk</code> script, and we must use the <code class="language-plaintext highlighter-rouge">-f</code> option to specify the script file.</p> <h3 id="cat"><code class="language-plaintext highlighter-rouge">cat</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-n</code></td> <td>Show line numbers</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-b</code></td> <td>Only show non-empty lines numbers</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-s</code></td> <td>Suppress repeated empty lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-v</code></td> <td>Use <code class="language-plaintext highlighter-rouge">^</code> and <code class="language-plaintext highlighter-rouge">M-</code> to display non-printable characters, except for tab and newline</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-E</code></td> <td>Display <code class="language-plaintext highlighter-rouge">$</code> at the end of each line</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-T</code></td> <td>Display <code class="language-plaintext highlighter-rouge">^I</code> for tab characters</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-A</code></td> <td>Equivalent to <code class="language-plaintext highlighter-rouge">-vET</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-e</code></td> <td>Equivalent to <code class="language-plaintext highlighter-rouge">-vE</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-t</code></td> <td>Equivalent to <code class="language-plaintext highlighter-rouge">-vT</code> </td> </tr> </tbody> </table> <p>You can use <code class="language-plaintext highlighter-rouge">cat</code> to read from standard input then output to a file. For example, <code class="language-plaintext highlighter-rouge">cat &gt; file</code> will read from standard input and write to <code class="language-plaintext highlighter-rouge">file</code> (use <code class="language-plaintext highlighter-rouge">^D</code> to send <code class="language-plaintext highlighter-rouge">EOF</code>); <code class="language-plaintext highlighter-rouge">cat &gt;&gt; file</code> can be used to append content to <code class="language-plaintext highlighter-rouge">file</code>.</p> <p>You can put <code class="language-plaintext highlighter-rouge">-</code> as a file name to read from standard input. For example, <code class="language-plaintext highlighter-rouge">cat file1 - file2</code> will read from standard input and output the content of <code class="language-plaintext highlighter-rouge">file1</code>, then the content of standard input, and finally the content of <code class="language-plaintext highlighter-rouge">file2</code>; <code class="language-plaintext highlighter-rouge">cat file1 - file2 - file3</code> will read from standard input and output the content of <code class="language-plaintext highlighter-rouge">file1</code>, then the content of standard input, then the content of <code class="language-plaintext highlighter-rouge">file2</code>, and finally the content of <code class="language-plaintext highlighter-rouge">file3</code>. In this process, you will be required to input the content twice, you can use <code class="language-plaintext highlighter-rouge">^D</code> to end the first input, then input the second content and use <code class="language-plaintext highlighter-rouge">^D</code> to end it again.</p> <p>There is another command <code class="language-plaintext highlighter-rouge">zcat</code>, which is similar to <code class="language-plaintext highlighter-rouge">cat</code> but used for compressed files.</p> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">tac</code> is a command that is similar to <code class="language-plaintext highlighter-rouge">cat</code>, but it outputs the contents of files in reverse order.</p> <p><strong>Digression</strong>: The name <code class="language-plaintext highlighter-rouge">cat</code> comes from concatenate.</p> <h3 id="grep"><code class="language-plaintext highlighter-rouge">grep</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-A 2</code></td> <td>Show matching lines and the next two lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-B 2</code></td> <td>Show matching lines and the previous two lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-C 2</code></td> <td>Show matching lines and two lines before and after</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-r</code></td> <td>Recursively search directories</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-n</code></td> <td>Show line numbers</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-i</code></td> <td>Ignore case</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-v</code></td> <td>Invert match</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--include "*.py"</code></td> <td>Search only in files matching the pattern</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--exclude "test*"</code></td> <td>Skip files matching the pattern</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--exclude-dir "test*"</code></td> <td>Skip directories matching the pattern</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-c</code></td> <td>Show the count of match in each file instead of the matching lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-o</code></td> <td>Only show the matching part</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-l</code></td> <td>Show the names of files with matches instead of the matching lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-L</code></td> <td>Show the names of files without matches instead of the matching lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-e</code></td> <td>Specify a pattern explicityly</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-w</code></td> <td>Only match whole words</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-x</code></td> <td>Only match whole lines</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-F</code></td> <td>Interpret the pattern as a fixed string, not a regex</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-H</code></td> <td>Show file names in output (default when multiple files are searched)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-h</code></td> <td>Do not show file names in output (default when a single file is searched)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-m</code></td> <td>Stop after N matches for each file</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--color=auto,always,never</code></td> <td>Highlight rules</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Read patterns from a file, one pattern per line</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-E</code></td> <td>Interpret the pattern as an extended regular expression (ERE)</td> </tr> </tbody> </table> <p>The difference between extended regular expressions (ERE) and basic regular expressions (BRE) is that in ERE, <code class="language-plaintext highlighter-rouge">?</code>, <code class="language-plaintext highlighter-rouge">+</code>, <code class="language-plaintext highlighter-rouge">{</code>, <code class="language-plaintext highlighter-rouge">|</code>, <code class="language-plaintext highlighter-rouge">(</code>, and <code class="language-plaintext highlighter-rouge">)</code> are special characters, while in BRE, they are not special characters unless escaped with a backslash (<code class="language-plaintext highlighter-rouge">\</code>).</p> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">-e</code> is useful when you want to specify multiple patterns or the pattern starts with a hyphen (<code class="language-plaintext highlighter-rouge">-</code>).</p> <p><strong>NOTE</strong>: We usually use <code class="language-plaintext highlighter-rouge">egrep</code> as an alias for <code class="language-plaintext highlighter-rouge">grep -E</code>, and <code class="language-plaintext highlighter-rouge">fgrep</code> as an alias for <code class="language-plaintext highlighter-rouge">grep -F</code>.</p> <p><strong>NOTE</strong>: Word-constituent characters are letters, digits, and underscores.</p> <p><strong>NOTE</strong>: In shell command, you usually need to quote the pattern to prevent pathname expansion.</p> <p><strong>Regression</strong>: <code class="language-plaintext highlighter-rouge">grep</code> comes from the command <code class="language-plaintext highlighter-rouge">g/re/p</code>, where <code class="language-plaintext highlighter-rouge">g</code> stands for <code class="language-plaintext highlighter-rouge">global</code>, <code class="language-plaintext highlighter-rouge">re</code> stands for <code class="language-plaintext highlighter-rouge">regular expression</code>, and <code class="language-plaintext highlighter-rouge">p</code> stands for <code class="language-plaintext highlighter-rouge">print</code>.</p> <h3 id="sed"><code class="language-plaintext highlighter-rouge">sed</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-i[SUFFIX]</code></td> <td>Edit files in place, optionally with a backup suffix</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-e</code></td> <td>Add a script to the commands to be executed</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Add a script file to the commands to be executed</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-E</code></td> <td>Use extended regular expressions</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-n</code></td> <td>Suppress automatic printing of pattern space</td> </tr> </tbody> </table> <p><strong>NOTE</strong>: With <code class="language-plaintext highlighter-rouge">-n</code>, <code class="language-plaintext highlighter-rouge">sed</code> will only print lines explicitly specified with the <code class="language-plaintext highlighter-rouge">p</code>, <code class="language-plaintext highlighter-rouge">P</code>, or <code class="language-plaintext highlighter-rouge">w</code>.</p> <h4 id="pattern-space-and-hold-space">Pattern Space and Hold Space</h4> <p><code class="language-plaintext highlighter-rouge">sed</code> uses two spaces: the pattern space and the hold space.</p> <p>The pattern space is where the current line is processed. <code class="language-plaintext highlighter-rouge">sed</code> will read one line at a time from the input into the pattern space.</p> <p>The hold space is a temporary storage area that can be used to store data between commands. It is empty until you explicitly use some commands to store data in it. And content in the hold space persists across multiple lines.</p> <h4 id="commands-1">Commands</h4> <table> <thead> <tr> <th>Command</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">s</code></td> <td>Substitute a pattern in the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">p</code></td> <td>Print the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">P</code></td> <td>Print the first part of the pattern space (up to the first newline)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">d</code></td> <td>Delete the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">D</code></td> <td>Delete the first part of the pattern space (up to the first newline)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">q</code></td> <td>Quit <code class="language-plaintext highlighter-rouge">sed</code> immediately</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">h</code></td> <td>Copy the pattern space to the hold space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">H</code></td> <td>Append the pattern space to the hold space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">g</code></td> <td>Copy the hold space to the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">G</code></td> <td>Append the hold space to the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">n</code></td> <td>Read the next line into the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">N</code></td> <td>Append the next line to the pattern space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">x</code></td> <td>Exchange the pattern space and the hold space</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">=</code></td> <td>Print current line number</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">w</code></td> <td>Write the pattern space to a file</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">W</code></td> <td>Write the first part of the pattern space (up to the first newline) to a file</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">a\</code></td> <td>Append text after the current line (use <code class="language-plaintext highlighter-rouge">\</code> to continue on the next line)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">c\</code></td> <td>Change the current line to the specified text (use <code class="language-plaintext highlighter-rouge">\</code> to continue on the next line)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">i\</code></td> <td>Insert text before the current line (use <code class="language-plaintext highlighter-rouge">\</code> to continue on the next line)</td> </tr> </tbody> </table> <p><strong>NOTE</strong>: The <code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">c</code>, and <code class="language-plaintext highlighter-rouge">i</code> are GNU <code class="language-plaintext highlighter-rouge">sed</code> extensions. It can be used without <code class="language-plaintext highlighter-rouge">\</code> but only for a single line of text.</p> <h4 id="examples-for-s-command">Examples for <code class="language-plaintext highlighter-rouge">s</code> command</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Replace the first occurrence of "old" with "new" in each line</span>
<span class="nb">sed</span> <span class="s1">'s/old/new/'</span> file.txt
 <span class="c"># Replace all occurrences of "old" with "new" in each line</span>
<span class="nb">sed</span> <span class="s1">'s/old/new/g'</span> file.txt
<span class="c"># Replace all occurrences of "old" with "new" in each line, ignoring case</span>
<span class="nb">sed</span> <span class="s1">'s/old/new/gi'</span> file.txt
<span class="c"># Replace the second occurrence of "old" with "new" in each line</span>
<span class="nb">sed</span> <span class="s1">'s/old/new/2'</span> file.txt
<span class="c"># Replace "old" with "new" in each line from the second occurrence to the end of the line</span>
<span class="nb">sed</span> <span class="s1">'s/old/new/2g'</span> file.txt
<span class="c"># Replace the first occurrence of "old" with "new" in every 10th line</span>
<span class="nb">sed</span> <span class="s1">'1~10s/old/new/'</span> file.txt
<span class="c"># Use | as the delimiter instead of /</span>
<span class="c"># Some available delimiters are: /, |, #, @, !, and +</span>
<span class="nb">sed</span> <span class="s1">'s|/var/log|/var/logs|g'</span> file.txt
<span class="c"># Replace the first occurrence of "old" with "new" in the 5th line</span>
<span class="nb">sed</span> <span class="s1">'5s/old/new/'</span> file.txt
<span class="c"># Replace the first occurrence of "old" with "new" in lines 5 to 10</span>
<span class="nb">sed</span> <span class="s1">'5,10s/old/new/'</span> file.txt
<span class="c"># Replace all occurrences of "old" with "new" in lines matching "pattern"</span>
<span class="nb">sed</span> <span class="s1">'/pattern/s/old/new/g'</span> file.txt
<span class="c"># Replace all occurrences of "old" with "new" in lines matching "pattern" and all following lines</span>
<span class="nb">sed</span> <span class="s1">'/pattern/,$s/old/new/g'</span> file.txt
<span class="c"># Replace all occurrences of "old" with "new" in lines between "start_pattern" and "end_pattern"</span>
<span class="nb">sed</span> <span class="s1">'/start_pattern/,/end_pattern/s/old/new/g'</span> file.txt
</code></pre></div></div> <h3 id="find"><code class="language-plaintext highlighter-rouge">find</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-type</code></td> <td>Specify the type of file to search for</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-readable</code></td> <td>Search for files or directories that are readable by the current user</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-writable</code></td> <td>Search for files or directories that are writable by the current user</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-executable</code></td> <td>Search for files or directories that are executable by the current user</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-name</code></td> <td>Specify the file name to search for. Can use <code class="language-plaintext highlighter-rouge">wildcards</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-path</code></td> <td>Specify the path to search for. Can use <code class="language-plaintext highlighter-rouge">wildcards</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-iname</code></td> <td>Similar to <code class="language-plaintext highlighter-rouge">-name</code>, but ignores case</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-ipath</code></td> <td>Similar to <code class="language-plaintext highlighter-rouge">-path</code>, but ignores case</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-empty</code></td> <td>Search for empty files or directories</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-size</code></td> <td>Specify the size of the file or directory to search for</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-exec</code></td> <td>Execute a command on the found files or directories</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-perm</code></td> <td>Specify the permissions to search for</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-user</code></td> <td>Specify the owner of the file or directory</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-group</code></td> <td>Specify the group of the file or directory</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-maxdepth</code></td> <td>Specify the maximum depth to search</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-mindepth</code></td> <td>Specify the minimum depth to search</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-depth</code></td> <td>Process each directory’s contents before the directory itself</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-delete</code></td> <td>Delete the found files or directories</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-and</code></td> <td>Logic and</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-or</code></td> <td>Logic or</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-not</code></td> <td>Logic not</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-regex</code></td> <td>Use a regular expression</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-iregex</code></td> <td>Use a case-insensitive regular expression</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-print0</code></td> <td>Print the found files or directories, separated by a null character</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-samefile</code></td> <td>Search for files that are hard links to the specified file</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-links</code></td> <td>Search for files with a specific number of hard links</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-P</code></td> <td>Neever follow symbolic links (default)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-L</code></td> <td>Follow symbolic links</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-H</code></td> <td>Follow symlinks only for the starting directories explicitly passed as arguments</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-mtime</code></td> <td>Specify the modification time of the file or directory, the time is in days</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-atime</code></td> <td>Specify the access time of the file or directory, the time is in days</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-ctime</code></td> <td>Specify the creation time of the file or directory, the time is in days</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-mmin</code></td> <td>Specify the modification time of the file or directory, the time is in minutes</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-amin</code></td> <td>Specify the access time of the file or directory, the time is in minutes</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-cmin</code></td> <td>Specify the creation time of the file or directory, the time is in minutes</td> </tr> </tbody> </table> <p>The options for <code class="language-plaintext highlighter-rouge">-type</code>:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">b</code>: block device file</li> <li> <code class="language-plaintext highlighter-rouge">c</code>: character device file</li> <li> <code class="language-plaintext highlighter-rouge">p</code>: pipe file</li> <li> <code class="language-plaintext highlighter-rouge">s</code>: socket file</li> <li> <code class="language-plaintext highlighter-rouge">f</code>: regular file</li> <li> <code class="language-plaintext highlighter-rouge">d</code>: directory</li> <li> <code class="language-plaintext highlighter-rouge">l</code>: soft link file</li> </ul> <p><strong>NOTE</strong>: When you use <code class="language-plaintext highlighter-rouge">-regex</code>, the pattern is matched against the entire file name, which is a little bit different from <code class="language-plaintext highlighter-rouge">grep</code>. If you want to match a specific part of the file name, you need to use <code class="language-plaintext highlighter-rouge">.*</code> to match any characters before and after the pattern. For example, <code class="language-plaintext highlighter-rouge">find . -regex ".*pattern.*"</code> will find files that contain <code class="language-plaintext highlighter-rouge">pattern</code> in their names.</p> <p>The units for <code class="language-plaintext highlighter-rouge">-size</code>:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">b</code>: block size, which is decided by the file system (usually 512 bytes)</li> <li> <code class="language-plaintext highlighter-rouge">c</code>: bytes</li> <li> <code class="language-plaintext highlighter-rouge">k</code>: kilobytes (1024 bytes)</li> <li> <code class="language-plaintext highlighter-rouge">M</code>: megabytes (1024 kilobytes)</li> <li> <code class="language-plaintext highlighter-rouge">G</code>: gigabytes (1024 megabytes)</li> </ul> <p>You can use <code class="language-plaintext highlighter-rouge">find . -size 1M</code> to find files that are exactly <code class="language-plaintext highlighter-rouge">1</code> megabyte in size; use <code class="language-plaintext highlighter-rouge">find . -size +1M</code> to find files larger than <code class="language-plaintext highlighter-rouge">1</code> megabyte; use <code class="language-plaintext highlighter-rouge">find . -size -1M</code> to find files smaller than <code class="language-plaintext highlighter-rouge">1</code> megabyte; use <code class="language-plaintext highlighter-rouge">find . -size +1M -size -2M</code> to find files larger than <code class="language-plaintext highlighter-rouge">1</code> megabyte but smaller than <code class="language-plaintext highlighter-rouge">2</code> megabytes.</p> <p>You can use <code class="language-plaintext highlighter-rouge">-exec</code> to execute a command on the found files or directories.</p> <p>For example, <code class="language-plaintext highlighter-rouge">find . -name "*.txt" -exec ls -l {} \;</code> will find all <code class="language-plaintext highlighter-rouge">txt</code> files in the current directory and execute <code class="language-plaintext highlighter-rouge">ls -l</code> on each of them. <code class="language-plaintext highlighter-rouge">{}</code> will be replaced by the found file name, <code class="language-plaintext highlighter-rouge">\;</code> means the end of the command, and the semicolon needs to be escaped to prevent it from being interpreted by the shell.</p> <h3 id="ln"><code class="language-plaintext highlighter-rouge">ln</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-s</code></td> <td>Solf link</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Force the creation of the link, removing existing files if necessary</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-t</code></td> <td>Specify the target directory for the link</td> </tr> </tbody> </table> <p><strong>NOTE</strong>: When using <code class="language-plaintext highlighter-rouge">ln target link_name</code>, and <code class="language-plaintext highlighter-rouge">link_name</code> is an existing directory, it will create a file named <code class="language-plaintext highlighter-rouge">target</code> in that directory.</p> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">rm</code> and <code class="language-plaintext highlighter-rouge">unlink</code> commands can both delete symbolic links or hard links. But <code class="language-plaintext highlighter-rouge">unlink</code> can only delete one file at a time,</p> <h4 id="hard-links-and-soft-links">Hard Links and Soft Links</h4> <p>You can use <code class="language-plaintext highlighter-rouge">ln</code> to create hard links and soft links (symbolic links) in <code class="language-plaintext highlighter-rouge">Linux</code>. Hard links are files that point to the same <code class="language-plaintext highlighter-rouge">inode</code> as the original file, while soft links are files that point to the original file by its path. Besides, hard links and soft links have the following differences:</p> <ul> <li>Soft links can point to files in different file systems, while hard links can only point to files in the same file system.</li> <li>Soft links can point to directories, while hard links cannot point to directories.</li> <li>When the source file is deleted, hard links will still be valid, while soft links will become invalid.</li> </ul> <p>In Linux, you can use the <code class="language-plaintext highlighter-rouge">ls -l</code> command to view the number of hard links to a file.</p> <h3 id="sort"><code class="language-plaintext highlighter-rouge">sort</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-r</code></td> <td>Sort in reverse order</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-n</code></td> <td>Sort numerically</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-k</code></td> <td>Sort by a specific key (column)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-u</code></td> <td>Unique sort</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-t</code></td> <td>Specify the field separator</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-c</code></td> <td>Check if the input is already sorted</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Ignore case when sorting</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-h</code></td> <td>Sort by human-readable numbers (e.g., 1K, 2M)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-M</code></td> <td>Sort by month names (e.g., Jan, Feb)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--files0-from=-</code></td> <td>Read from standard input with <code class="language-plaintext highlighter-rouge">NUL</code> as the file name separator</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--files0-from=filename</code></td> <td>Read from a file with <code class="language-plaintext highlighter-rouge">NUL</code> as the file name separator</td> </tr> </tbody> </table> <p><strong>NOTE</strong>: You can use <code class="language-plaintext highlighter-rouge">-k</code> to specify multiple keys for sorting. For example, <code class="language-plaintext highlighter-rouge">-k2,2 -k1,1</code> means sort by the second column first, then by the first column. And you can specify parts of a column for sorting, such as <code class="language-plaintext highlighter-rouge">-k2.2,2.3</code> to sort by the second column from the second character to the third character. Besides, you can specify the type of the column for sorting, such as <code class="language-plaintext highlighter-rouge">-k2n,2</code> to sort the second column numerically and <code class="language-plaintext highlighter-rouge">-k2r,2</code> to sort the second column in reverse order.</p> <h3 id="tar"><code class="language-plaintext highlighter-rouge">tar</code></h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-c</code></td> <td>Create a new tar archive</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Specify the name of the tar archive file</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-v</code></td> <td>Verbose mode</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-z</code></td> <td>Use <code class="language-plaintext highlighter-rouge">gzip</code> compression or decompression</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-j</code></td> <td>Use <code class="language-plaintext highlighter-rouge">bzip2</code> compression or decompression</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-J</code></td> <td>Use <code class="language-plaintext highlighter-rouge">xz</code> compression or decompression</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-x</code></td> <td>Extract files from a tar archive</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-C</code></td> <td>Change to a directory before performing operations</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-t</code></td> <td>List the contents of a tar archive</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--wildcards</code></td> <td>Enable wildcard matching for file names</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--delete</code></td> <td>Delete files from a tar archive (only works with uncompressed archives)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--exclude</code></td> <td>Exclude files or directories from the tar archive</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-r</code></td> <td>Append files to a tar archive</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-A</code></td> <td>Append another tar archive to the current one</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-u</code></td> <td>Update files in a tar archive, only adding newer files</td> </tr> </tbody> </table> <p><strong>NOTE</strong>: When using <code class="language-plaintext highlighter-rouge">--exclue</code>, you must use <code class="language-plaintext highlighter-rouge">=</code> to connect the option, and <code class="language-plaintext highlighter-rouge">--exclude</code> must appear before the files or directories to be packed. For example, <code class="language-plaintext highlighter-rouge">tar -cf a.tar --exclude=*.txt .</code> is correct, but <code class="language-plaintext highlighter-rouge">tar -cf a.tar . --exclude=*.txt</code> is incorrect.</p> <p><strong>NOTE</strong>: When using <code class="language-plaintext highlighter-rouge">-u</code>, it will not overwrite old files, but will append new files directly, after which the tar archive may contain multiple files with the same name. But I have not found a way to extract the old files.</p> <h2 id="makefile">Makefile</h2> <h3 id="variables-1">Variables</h3> <p>You can define variables in <code class="language-plaintext highlighter-rouge">Makefile</code> and use the variables through <code class="language-plaintext highlighter-rouge">$(variable)</code>:</p> <pre><code class="language-Makefile">objects = obj1.o obj2.o obj3.o
all: $(object)
	$(CC) $(object) -o main
</code></pre> <p>If you want to express the literal <code class="language-plaintext highlighter-rouge">$</code>, you can use <code class="language-plaintext highlighter-rouge">$$</code>.</p> <p>If you want to define a variable whose value is a single space, you can use:</p> <pre><code class="language-Makefile">nullstring :=
space := $(nullstring) # end of line
</code></pre> <p>The <code class="language-plaintext highlighter-rouge">$nullstring</code> is a empty string, and <code class="language-plaintext highlighter-rouge">space</code> is a single space.</p> <p><strong>NOTE</strong>: Note that the <code class="language-plaintext highlighter-rouge">#</code> and a single space before <code class="language-plaintext highlighter-rouge">#</code> are necessary. This is because that the trailing spaces will be added to variables.</p> <p>You can nest <code class="language-plaintext highlighter-rouge">$</code> to get value:</p> <pre><code class="language-Makefile">x = y
y = z
z = u
# $(x) is y
# $($(x)) is $(y), and $(y) is z
# $($($(x))) is $(z), and $(z) is u
a := $($($(x)))
</code></pre> <h3 id="target-variables">Target Variables</h3> <p>You can set variables only valid for the specified target:</p> <pre><code class="language-Makefile">prog: CFLAGS = -g
prog: prog.o foo.o bar.o
	$(CC) $(CFLAGS) prog.o foo.o bar.o
prog.o: prog.c
	$(CC) $(CFLAGS) prog.c
foo.o: foo.c
	$(CC) $(CFLAGS) foo.c
bar.o: bar.c
	$(CC) $(CFLAGS) bar.c
</code></pre> <p>In the example above, only the <code class="language-plaintext highlighter-rouge">prog</code>’s <code class="language-plaintext highlighter-rouge">CFLAGS</code> is <code class="language-plaintext highlighter-rouge">-g</code>.</p> <h3 id="---and-"> <code class="language-plaintext highlighter-rouge">=</code> <code class="language-plaintext highlighter-rouge">:=</code> <code class="language-plaintext highlighter-rouge">+=</code> and <code class="language-plaintext highlighter-rouge">?=</code> </h3> <p>There are many equal signs in <code class="language-plaintext highlighter-rouge">make</code>, but they are very different with each other:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">=</code>: This is like references in <code class="language-plaintext highlighter-rouge">C/C++</code>. For example, if you use <code class="language-plaintext highlighter-rouge">a = $(b)</code>, once <code class="language-plaintext highlighter-rouge">b</code>’s value changed after, the <code class="language-plaintext highlighter-rouge">a</code> will change too.</li> <li> <code class="language-plaintext highlighter-rouge">:=</code>: This is assignment equal sign, which is similar with <code class="language-plaintext highlighter-rouge">=</code> in <code class="language-plaintext highlighter-rouge">C/C++</code>.</li> <li> <code class="language-plaintext highlighter-rouge">+=</code>: This is to append a variable with new values.</li> <li> <code class="language-plaintext highlighter-rouge">?=</code>: This will check if the variable is assigned before; if it is, this will not work, otherwise it is similar with <code class="language-plaintext highlighter-rouge">=</code>.</li> </ul> <p>For the <code class="language-plaintext highlighter-rouge">+=</code>:</p> <ul> <li>If the variable has not been defined, it will be <code class="language-plaintext highlighter-rouge">=</code>.</li> <li>If the variable has been define, it will follow the last equal sign. If the last equal is <code class="language-plaintext highlighter-rouge">=</code>, <code class="language-plaintext highlighter-rouge">+=</code> will use <code class="language-plaintext highlighter-rouge">=</code>; if the last equal sign is <code class="language-plaintext highlighter-rouge">:=</code>, <code class="language-plaintext highlighter-rouge">+=</code> will use <code class="language-plaintext highlighter-rouge">:=</code>.</li> </ul> <h3 id="override">override</h3> <p>When the variable is defined by the <code class="language-plaintext highlighter-rouge">make</code> command, for example <code class="language-plaintext highlighter-rouge">make a=12</code> will define a variable called <code class="language-plaintext highlighter-rouge">a</code> whose value is <code class="language-plaintext highlighter-rouge">12</code>, the variable defined and assigned in your <code class="language-plaintext highlighter-rouge">Makefile</code> will be replaced by the command line’s. If you don’t want the variable be replaced, you can use <code class="language-plaintext highlighter-rouge">override</code>:</p> <pre><code class="language-Makefile"># you can use other equal signs
override a := 0
</code></pre> <h3 id="multi-line-variables">Multi Line Variables</h3> <p>You can define multi line variables by <code class="language-plaintext highlighter-rouge">define</code>, the signature after <code class="language-plaintext highlighter-rouge">define</code> is the name of the variable. Note that commands in macro must start with tab, so if the lines are not started with tab, they will be treated as a multi line variable’s value. There is an example below:</p> <pre><code class="language-Makefile">define two-lines
echo foo
echo $(bar)
endef
</code></pre> <p><strong>NOTE</strong>: <code class="language-plaintext highlighter-rouge">$(bar)</code> will be replaced by the value of <code class="language-plaintext highlighter-rouge">bar</code>.</p> <h3 id="------and-"> <code class="language-plaintext highlighter-rouge">$@</code> <code class="language-plaintext highlighter-rouge">$&lt;</code> <code class="language-plaintext highlighter-rouge">$*</code> <code class="language-plaintext highlighter-rouge">$%</code> <code class="language-plaintext highlighter-rouge">$?</code> <code class="language-plaintext highlighter-rouge">$^</code> and <code class="language-plaintext highlighter-rouge">$+</code> </h3> <ul> <li> <code class="language-plaintext highlighter-rouge">$@</code>: A variable in <code class="language-plaintext highlighter-rouge">make</code>, whose value is the target. For example, if <code class="language-plaintext highlighter-rouge">$@</code> appears in commands following <code class="language-plaintext highlighter-rouge">main.o: main.cpp</code>, <code class="language-plaintext highlighter-rouge">$@</code> will be <code class="language-plaintext highlighter-rouge">main.o</code> exactly.</li> <li> <code class="language-plaintext highlighter-rouge">$&lt;</code>: A variable in <code class="language-plaintext highlighter-rouge">make</code>, whose value is the first dependency. For example, if <code class="language-plaintext highlighter-rouge">$&lt;</code> appears in commands following <code class="language-plaintext highlighter-rouge">main.o: main.cpp</code>, <code class="language-plaintext highlighter-rouge">$&lt;</code> will be <code class="language-plaintext highlighter-rouge">main.cpp</code> exactly.</li> <li> <code class="language-plaintext highlighter-rouge">$*</code>: A variable in <code class="language-plaintext highlighter-rouge">make</code>, whose value is the stem of the target. For example, using <code class="language-plaintext highlighter-rouge">$*</code> following <code class="language-plaintext highlighter-rouge">pre_%.o: pre_%.c</code>, and the target is <code class="language-plaintext highlighter-rouge">pre_foo.o</code>, <code class="language-plaintext highlighter-rouge">$*</code> will be <code class="language-plaintext highlighter-rouge">foo</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$%</code>: When the target is in an archive (like <code class="language-plaintext highlighter-rouge">foo.a</code>), this variable is the names of members. For example, if a target is <code class="language-plaintext highlighter-rouge">foo.a(bar.o)</code> the <code class="language-plaintext highlighter-rouge">$%</code> will be <code class="language-plaintext highlighter-rouge">bar.o</code> and the <code class="language-plaintext highlighter-rouge">$@</code> will be <code class="language-plaintext highlighter-rouge">foo.a</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$?</code>: A variable in <code class="language-plaintext highlighter-rouge">make</code>, whose value is all the dependencies that are newer than the target.</li> <li> <code class="language-plaintext highlighter-rouge">$^</code>: A variable in <code class="language-plaintext highlighter-rouge">make</code>, whose value is all the dependencies of the target. This will have only one copy if the target depends on the same file more than once.</li> <li> <code class="language-plaintext highlighter-rouge">$+</code>: A variable similar with <code class="language-plaintext highlighter-rouge">$^</code> but will store the repetitive files.</li> </ul> <h3 id="auto-deduction">Auto Deduction</h3> <p>You can use <code class="language-plaintext highlighter-rouge">Makefile</code> with auto deduction. Auto deduction looks like this:</p> <pre><code class="language-Makefile">%.o: %.c
</code></pre> <p>The example above will add <code class="language-plaintext highlighter-rouge">main.c</code> or <code class="language-plaintext highlighter-rouge">main.cpp</code> for target <code class="language-plaintext highlighter-rouge">main.o</code>, and the command <code class="language-plaintext highlighter-rouge">$(CC) $(CFLAGS) -c $&lt; -o $@</code> will be added automatically too.</p> <h3 id="implicit-rules">Implicit Rules</h3> <p>Implicit rules are similar with auto deduction. Or we can say auto deduction depends on implicit rules.</p> <p>There are different implicit rules for different files. I’ll give the implicit rules of <code class="language-plaintext highlighter-rouge">C</code> and <code class="language-plaintext highlighter-rouge">C++</code> files:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">C</code>: <code class="language-plaintext highlighter-rouge">*.o</code> will be deducted depending on <code class="language-plaintext highlighter-rouge">*.c</code> and the build command will be <code class="language-plaintext highlighter-rouge">$(CC) -c $(CPPFLAGS) $(CFLAGS)</code>.</li> <li> <code class="language-plaintext highlighter-rouge">C++</code>: <code class="language-plaintext highlighter-rouge">*.o</code> will be deducted depending on<code class="language-plaintext highlighter-rouge">*.C, *.cc or *.cpp</code> and the build command will be <code class="language-plaintext highlighter-rouge">$(CC) -c $(CPPFLAGS) $(CFLAGS)</code>.</li> </ul> <h3 id="phony">PHONY</h3> <p><code class="language-plaintext highlighter-rouge">.PHONY</code> is to specify the target is a pseudo target. This is usually used for <code class="language-plaintext highlighter-rouge">clean</code> and <code class="language-plaintext highlighter-rouge">all</code>. <code class="language-plaintext highlighter-rouge">.PHONY</code> will let <code class="language-plaintext highlighter-rouge">make</code> not treat the target as a file:</p> <pre><code class="language-Makefile">.PHONY: clean
</code></pre> <h3 id="include">include</h3> <p><code class="language-plaintext highlighter-rouge">include</code> is very similar with the <code class="language-plaintext highlighter-rouge">include</code> in <code class="language-plaintext highlighter-rouge">C/C++</code>. The command will read the files’ contents and put them where the <code class="language-plaintext highlighter-rouge">include</code> command is:</p> <pre><code class="language-Makefile"># this will read the contents of config.make and put it there.
include config.make
</code></pre> <p><code class="language-plaintext highlighter-rouge">make</code> can also use the <code class="language-plaintext highlighter-rouge">-I</code> to specify where to find the files used by <code class="language-plaintext highlighter-rouge">include</code> command. For example <code class="language-plaintext highlighter-rouge">make -I./include</code> will let <code class="language-plaintext highlighter-rouge">include</code> command find the <code class="language-plaintext highlighter-rouge">./include</code> directory.</p> <h3 id="vpath-and-vpath"> <code class="language-plaintext highlighter-rouge">VPATH</code> and <code class="language-plaintext highlighter-rouge">vpath</code> </h3> <p><code class="language-plaintext highlighter-rouge">VPATH</code> is a variable in <code class="language-plaintext highlighter-rouge">make</code>, which is used to specify the directories where <code class="language-plaintext highlighter-rouge">make</code> will look for files when they are not found in the current directory. The value of <code class="language-plaintext highlighter-rouge">VPATH</code> is a colon-separated list of directories.</p> <pre><code class="language-Makefile"># this will specify two directories to be used to find files
VPATH = src:../include
</code></pre> <p><code class="language-plaintext highlighter-rouge">vpath</code> is a keyword of <code class="language-plaintext highlighter-rouge">make</code>, and this keyword also can be used to find files:</p> <pre><code class="language-Makefile"># % is similar with .* of regexpr
# this is to specify to find header files in ../include
vpath %.h ../include

# this is to specify to find C files in ./src
vpath %.c ./src
</code></pre> <h3 id="multi-targets">Multi Targets</h3> <p>You can write more than one target in one line:</p> <pre><code class="language-Makefile">bigoutput littleoutput : text.g
	-generate text.g $(subst output,,$@) &gt; $@
</code></pre> <p><code class="language-plaintext highlighter-rouge">$(subst output,,$@)</code> means substitute <code class="language-plaintext highlighter-rouge">output</code> of <code class="language-plaintext highlighter-rouge">$@</code> with empty string. The hyphen before means to ignore errors. <code class="language-plaintext highlighter-rouge">make</code> will check the return value after each command. When return value is non-zero, <code class="language-plaintext highlighter-rouge">make</code> will stop, the hyphen means don’t check the return value.</p> <p>More straightforward, the commands above are same as:</p> <pre><code class="language-Makefile">bigoutput : text.g
	-generate text.g big &gt; bigoutput
littleoutput : text.g
	-generate text.g little &gt; littleoutput
</code></pre> <h3 id="static-pattern-rules">Static Pattern Rules</h3> <p>In <code class="language-plaintext highlighter-rouge">make</code>, you can use static pattern rules to simplify the <code class="language-plaintext highlighter-rouge">Makefile</code>:</p> <pre><code class="language-Makefile">objects = foo.o bar.o
all: $(objects)
$(objects): %.o: %.c
	$(CC) -c $(CFLAGS) $&lt; -o $@
</code></pre> <p><code class="language-plaintext highlighter-rouge">$(objects): %.o: %.c</code> will find <code class="language-plaintext highlighter-rouge">foo.o</code> and <code class="language-plaintext highlighter-rouge">bar.o</code> <strong>from <code class="language-plaintext highlighter-rouge">$(objects)</code></strong> and place them at <code class="language-plaintext highlighter-rouge">%.o</code>, and then find <code class="language-plaintext highlighter-rouge">foo.c</code> and <code class="language-plaintext highlighter-rouge">bar.c</code> <strong>from <code class="language-plaintext highlighter-rouge">foo.o bar.o</code></strong>.</p> <p>There is another example to use <code class="language-plaintext highlighter-rouge">filter</code> and static pattern rules:</p> <pre><code class="language-Makefile">files = foo.elc bar.o lose.o
# $(filter %.o,%(files)) will get all the .o files from $(files)
$(filter %.o,$(files)): %.o: %.c
	$(CC) -c $(CFLAGS) $&lt; -o $@
$(filter %.elc,$(files)): %.elc: %.el
	emacs -f batch-byte-compile $&lt;
</code></pre> <h3 id="generate-dependencies-automatically">Generate Dependencies Automatically</h3> <p><code class="language-plaintext highlighter-rouge">gcc -MM *.c</code> will print the header files of <code class="language-plaintext highlighter-rouge">C</code> files. For example <code class="language-plaintext highlighter-rouge">gcc -MM test.c</code>’s output will look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>test.o: test.c header1 header2 header3
</code></pre></div></div> <p>We can use the command to automatically add dependencies for a target:</p> <pre><code class="language-Makefile"># Add @ before one command will not print the command
# set -e will let the command stop when error occurs
%.d: %.c
	@set -e; \
	$(CC) -MM $&lt; &gt; $@.; \
	sed -e 's/\($*\)\.o[ : ]*/\1.o $@ :/g' &lt; $@. &gt; $@; \
	rm -f $@.
</code></pre> <p>We use <code class="language-plaintext highlighter-rouge">$(CC) -MM $&lt; &gt; $@.</code> to generate a file <code class="language-plaintext highlighter-rouge">%.d.</code> to store the output. Then we use <code class="language-plaintext highlighter-rouge">sed</code> to substitute the <code class="language-plaintext highlighter-rouge">%.o</code> with <code class="language-plaintext highlighter-rouge">%.o %.d</code> and output to <code class="language-plaintext highlighter-rouge">%.d</code>. Finally we remove the <code class="language-plaintext highlighter-rouge">%.d.</code>.</p> <p>After this, we can include the <code class="language-plaintext highlighter-rouge">%.d</code> files:</p> <pre><code class="language-Makefile">sources = a.c b.c
# substitude .c with .d in sources
include $(sources:.c=.d)
</code></pre> <p>After <code class="language-plaintext highlighter-rouge">include</code>, we’ll have something like <code class="language-plaintext highlighter-rouge">a.o a.d: a.c header</code> in our <code class="language-plaintext highlighter-rouge">Makefile</code>, then <code class="language-plaintext highlighter-rouge">make</code> will auto deduction the commands.</p> <h3 id="nested-makefiles">Nested Makefiles</h3> <p>If you use 3rd parties, you may want to build the 3rd parties by <code class="language-plaintext highlighter-rouge">make</code>:</p> <pre><code class="language-Makefile">subsystem:
	$(MAKE) -C subdir
</code></pre> <p>You can pass the variables of current <code class="language-plaintext highlighter-rouge">Makefile</code> to <code class="language-plaintext highlighter-rouge">sub-Makefile</code> through <code class="language-plaintext highlighter-rouge">export</code>:</p> <pre><code class="language-Makefile">export variable = value
# pass all variables
export
</code></pre> <h3 id="define">define</h3> <p>In <code class="language-plaintext highlighter-rouge">make</code>, you can use <code class="language-plaintext highlighter-rouge">define</code> to define macros:</p> <pre><code class="language-Makefile"># note that there is no semicolon after each command
define name
	command1
	command2
	...
endef
</code></pre> <p>If you want to use the macro, you just need use <code class="language-plaintext highlighter-rouge">$(macro_name)</code> to call the macro.</p> <h3 id="conditional-structures">Conditional Structures</h3> <p>This part is simple, so I just post some examples.</p> <p>The example using <code class="language-plaintext highlighter-rouge">ifeq</code>:</p> <pre><code class="language-Makefile">libs_for_gcc = -lgnu
normal_libs =
foo: $(objects)
ifeq ($(CC),gcc)
	$(CC) -o foo $(objects) $(libs_for_gcc)
else
	$(CC) -o foo $(objects) $(normal_libs)
endif
</code></pre> <p>You can use <code class="language-plaintext highlighter-rouge">ifneq</code>, <code class="language-plaintext highlighter-rouge">ifdef</code> and <code class="language-plaintext highlighter-rouge">ifndef</code>, too.</p> <h3 id="functions">Functions</h3> <p>You can use functions in <code class="language-plaintext highlighter-rouge">make</code> through <code class="language-plaintext highlighter-rouge">$(func_name args)</code>.</p> <p>There are some functions related to strings:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">$(subst from,to,text)</code>: substitute <code class="language-plaintext highlighter-rouge">from</code> with <code class="language-plaintext highlighter-rouge">to</code> in <code class="language-plaintext highlighter-rouge">text</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(patsubst pattern,replacement,text)</code>: substitute <code class="language-plaintext highlighter-rouge">pattern</code> with <code class="language-plaintext highlighter-rouge">replacement</code> in <code class="language-plaintext highlighter-rouge">text</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(strip text)</code>: remove all the leading and trailing spaces in <code class="language-plaintext highlighter-rouge">text</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(findstring target,text)</code>: find <code class="language-plaintext highlighter-rouge">target</code> in text, if found, return <code class="language-plaintext highlighter-rouge">target</code> otherwise, return empty string.</li> <li> <code class="language-plaintext highlighter-rouge">$(filter pattern...,text)</code>: filter the contents matching the <code class="language-plaintext highlighter-rouge">pattern...</code> from <code class="language-plaintext highlighter-rouge">text</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(filter-out pattern...,text)</code>: filter out the contents matching the <code class="language-plaintext highlighter-rouge">pattern...</code> from <code class="language-plaintext highlighter-rouge">text</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(sort list)</code>: sort the contents in <code class="language-plaintext highlighter-rouge">list</code> lexicographically. Note that <code class="language-plaintext highlighter-rouge">sort</code> will unique the contents, too.</li> <li> <code class="language-plaintext highlighter-rouge">$(word i,text)</code>: get the <code class="language-plaintext highlighter-rouge">i</code>-th word from <code class="language-plaintext highlighter-rouge">text</code> (index started from <code class="language-plaintext highlighter-rouge">1</code>).</li> <li> <code class="language-plaintext highlighter-rouge">$(wordlist l,r,text)</code>: get the words whose index is in <code class="language-plaintext highlighter-rouge">[l,r]</code> in sequence.</li> <li> <code class="language-plaintext highlighter-rouge">$(firstword text)</code>: get the first word of <code class="language-plaintext highlighter-rouge">text</code>.</li> </ul> <p>There are some functions related to files:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">$(dir name...)</code>: get the directory part from <code class="language-plaintext highlighter-rouge">name</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(notdir name...)</code>: get the non-directory part from <code class="language-plaintext highlighter-rouge">name</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(suffix name...)</code>: get the suffixes of files from <code class="language-plaintext highlighter-rouge">name</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(basename name...)</code>: get the base name (files’ name without extension) of files from <code class="language-plaintext highlighter-rouge">name</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(addsuffix suffix,name)</code>: add <code class="language-plaintext highlighter-rouge">suffix</code> for <code class="language-plaintext highlighter-rouge">name</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(addprefix prefix,name)</code>: add <code class="language-plaintext highlighter-rouge">prefix</code> for <code class="language-plaintext highlighter-rouge">name</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(join list1,list2)</code>: join two lists. This will append words in <code class="language-plaintext highlighter-rouge">list2</code> to <code class="language-plaintext highlighter-rouge">list1</code>. For example <code class="language-plaintext highlighter-rouge">$(join aaa bbb,111 222 333)</code> will get <code class="language-plaintext highlighter-rouge">aaa111 bbb222 333</code>.</li> </ul> <hr> <p>If I want add a suffix for every item in a variable, I can do it with this:</p> <pre><code class="language-Makefile">names := a b c d
files := $(foreach item,$(names),$(item).o)
</code></pre> <hr> <ul> <li> <code class="language-plaintext highlighter-rouge">$(if condition,then-part,else-part)</code>: if the <code class="language-plaintext highlighter-rouge">condition</code> is a non-empty string, it will return the <code class="language-plaintext highlighter-rouge">then-part</code>, otherwise it will return the <code class="language-plaintext highlighter-rouge">else-part</code>.</li> </ul> <hr> <p>Now if you hope to have a function which can reverse two parameters, you can do it through this:</p> <pre><code class="language-Makefile">reverse = $(2) $(1)
reversedItemList = $(call reverse,item1,item2)
</code></pre> <p>After that, <code class="language-plaintext highlighter-rouge">reversedItemList</code> will be <code class="language-plaintext highlighter-rouge">item2 item1</code>. Of course, you can add different suffixes for items:</p> <pre><code class="language-Makefile">addTargetAndDependency = $(1).o : $(1).c
result = $(call addTargetAndDependency,main)
</code></pre> <p><code class="language-plaintext highlighter-rouge">result</code> will be <code class="language-plaintext highlighter-rouge">main.o : main.c</code>.</p> <hr> <p><code class="language-plaintext highlighter-rouge">$(origin variablename)</code> will tell you where the <code class="language-plaintext highlighter-rouge">variablename</code> comes from. The return values are explained below:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">undefined</code>: never defined before.</li> <li> <code class="language-plaintext highlighter-rouge">environment</code>: the variable comes from environment variables.</li> <li> <code class="language-plaintext highlighter-rouge">default</code>: the default variable, such <code class="language-plaintext highlighter-rouge">CC</code>.</li> <li> <code class="language-plaintext highlighter-rouge">file</code>: the variable is defined in a <code class="language-plaintext highlighter-rouge">Makefile</code>.</li> <li> <code class="language-plaintext highlighter-rouge">command line</code>: the variable is defined by command lines (when you type <code class="language-plaintext highlighter-rouge">make a=1</code>, <code class="language-plaintext highlighter-rouge">a</code> is defined by command lines).</li> <li> <code class="language-plaintext highlighter-rouge">override</code>: the variable if defined by <code class="language-plaintext highlighter-rouge">override</code>.</li> <li> <code class="language-plaintext highlighter-rouge">automatic</code>: the variable is defined by <code class="language-plaintext highlighter-rouge">make</code> automatically.</li> </ul> <hr> <p>This is to execute a command in shell:</p> <pre><code class="language-Makefile">contents := $(shell cat foo)
files := $(shell echo *.c)
</code></pre> <p>The commands above will get the output of a shell command.</p> <hr> <ul> <li> <code class="language-plaintext highlighter-rouge">$(erro text)</code>: output <code class="language-plaintext highlighter-rouge">text</code> and stop <code class="language-plaintext highlighter-rouge">make</code>.</li> <li> <code class="language-plaintext highlighter-rouge">$(warning text)</code>: output <code class="language-plaintext highlighter-rouge">text</code> but don’t stop <code class="language-plaintext highlighter-rouge">make</code>.</li> </ul> <h3 id="return-value-of-make">Return Value of Make</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">0</code>: success.</li> <li> <code class="language-plaintext highlighter-rouge">1</code>: some errors.</li> <li> <code class="language-plaintext highlighter-rouge">2</code>: when you use <code class="language-plaintext highlighter-rouge">-q</code> (<code class="language-plaintext highlighter-rouge">-q</code> will not run <code class="language-plaintext highlighter-rouge">make</code>, but give you a return value <code class="language-plaintext highlighter-rouge">0</code> if the targets are up to date) and <code class="language-plaintext highlighter-rouge">make</code> cannot make sure whether or not the files is up to date.</li> </ul> <h3 id="specify-target">Specify Target</h3> <p>If you run <code class="language-plaintext highlighter-rouge">make</code>, <code class="language-plaintext highlighter-rouge">make</code> will build the first target. But you can specify target by <code class="language-plaintext highlighter-rouge">make targetname</code>.</p> <p>There are some rules you should obey for naming a target when you write <code class="language-plaintext highlighter-rouge">Makefile</code>:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">all</code>: build all targets.</li> <li> <code class="language-plaintext highlighter-rouge">clean</code>: remove all the files created by <code class="language-plaintext highlighter-rouge">make</code>.</li> <li> <code class="language-plaintext highlighter-rouge">install</code>: install the targets, when in <code class="language-plaintext highlighter-rouge">C/C++</code>, this will move the binary files to <code class="language-plaintext highlighter-rouge">/usr/bin</code> and move the header files to <code class="language-plaintext highlighter-rouge">/usr/include</code>.</li> <li> <code class="language-plaintext highlighter-rouge">print</code>: print the files having been updated.</li> <li> <code class="language-plaintext highlighter-rouge">tar</code>: pack the source files into a tar file.</li> <li> <code class="language-plaintext highlighter-rouge">dist</code>: create a compressed file including all source files.</li> </ul> <h3 id="check-make-syntax">Check Make Syntax</h3> <p>When you want to check your syntax in <code class="language-plaintext highlighter-rouge">Makefile</code> rather than run the <code class="language-plaintext highlighter-rouge">make</code>, you can use those options: <code class="language-plaintext highlighter-rouge">-n, --just-print, --dry-run, --recon</code>. The four options are synonyms.</p> <h3 id="other-options-in-make">Other Options in make</h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">-j</code></td> <td>Use the specified number of jobs (cores) to build</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-q</code></td> <td>Check if the target exists</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-W</code></td> <td>Build the targets that depend on the specified file</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-o</code></td> <td>Ignore the specified file while building</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-B</code></td> <td>Always re-build all targets, even if they are up to date</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-C</code></td> <td>Change working directory to the specified directory</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-t</code></td> <td>Touch all the targets</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--debug</code></td> <td>Print debug info</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-e</code></td> <td>Environment overrides</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-f</code></td> <td>Use the specified file as <code class="language-plaintext highlighter-rouge">Makefile</code> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-i</code></td> <td>Ignore errors</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-I</code></td> <td>Include directory</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-k</code></td> <td>Keep going even if there are errors</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-S</code></td> <td>Stop when an error occurs</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-p</code></td> <td>Print the data base</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-r</code></td> <td>Do not use built-in rules</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-R</code></td> <td>Do not use built-in variables</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-s</code></td> <td>Silent mode, do not print commands</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">-w</code></td> <td>Print the working directory before and after processing</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--no-print-directory</code></td> <td>Do not print the working directory</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">--warn-undefined-variables</code></td> <td>Warn when a variable is undefined</td> </tr> </tbody> </table> <p><code class="language-plaintext highlighter-rouge">--debug=options</code> will print the debug info of <code class="language-plaintext highlighter-rouge">make</code>, the available options are:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">a</code>: print all info.</li> <li> <code class="language-plaintext highlighter-rouge">b</code>: print basic info.</li> <li> <code class="language-plaintext highlighter-rouge">v</code>: verbose.</li> <li> <code class="language-plaintext highlighter-rouge">i</code>: print implicit rules.</li> <li> <code class="language-plaintext highlighter-rouge">j</code>: print jobs’ info including <code class="language-plaintext highlighter-rouge">PID</code>, return value and so on.</li> <li> <code class="language-plaintext highlighter-rouge">m</code>: this is for debugging when remaking makefiles.</li> <li>If you just use <code class="language-plaintext highlighter-rouge">-d</code>, this is same with <code class="language-plaintext highlighter-rouge">--debug=a</code>.</li> </ul> <p>You have learned a lot about <code class="language-plaintext highlighter-rouge">make</code>, why not to read the <a href="https://github.com/torvalds/linux/blob/master/Makefile" rel="external nofollow noopener" target="_blank">Makefile</a> of <a href="https://github.com/torvalds/linux" rel="external nofollow noopener" target="_blank">Linux Kernel</a>.</p> <h2 id="git"><code class="language-plaintext highlighter-rouge">git</code></h2> <h3 id="gitignore"><code class="language-plaintext highlighter-rouge">.gitignore</code></h3> <p>You can use <code class="language-plaintext highlighter-rouge">.gitignore</code> to specify files or directories that do not need to be tracked by <code class="language-plaintext highlighter-rouge">git</code>.</p> <p>Most wildcards in <code class="language-plaintext highlighter-rouge">.gitignore</code> are similar to those in <code class="language-plaintext highlighter-rouge">bash</code>. Check <a href="#wildcards-in-linux">Wildcards in Linux</a> for more information about <code class="language-plaintext highlighter-rouge">wildcards</code>.</p> <p>By default, the items in <code class="language-plaintext highlighter-rouge">.gitignore</code> will be ignored recursively. If you don’t want to ignore recursively, you can add <code class="language-plaintext highlighter-rouge">/</code> before the item to indicate that it only takes effect in the current directory. For example, <code class="language-plaintext highlighter-rouge">/foo</code> means to ignore only the <code class="language-plaintext highlighter-rouge">foo</code> file or directory in the current directory, while <code class="language-plaintext highlighter-rouge">foo</code> means to ignore all <code class="language-plaintext highlighter-rouge">foo</code> files or directories.</p> <p>By default, the items in <code class="language-plaintext highlighter-rouge">.gitignore</code> match both directories and files. If you only want to match directories, you can add <code class="language-plaintext highlighter-rouge">/</code> at the end of the item to indicate that it only matches directories. For example, <code class="language-plaintext highlighter-rouge">foo/</code> means to match only the directory <code class="language-plaintext highlighter-rouge">foo</code>, while <code class="language-plaintext highlighter-rouge">foo</code> means to match all <code class="language-plaintext highlighter-rouge">foo</code> files or directories.</p> <p>You can configure the ignore rules in <code class="language-plaintext highlighter-rouge">~/.config/git/ignore</code> to ignore files globally.</p> <p>There can be a <code class="language-plaintext highlighter-rouge">.gitignore</code> file in any directory in a repository, and this file will take effect on files and directories in the current directory. The priority of <code class="language-plaintext highlighter-rouge">.gitignore</code> files is from subdirectory to parent directory, and the global ignore file has the lowest priority.</p> <h2 id="references">References</h2> <ul> <li><a href="https://www.tecmint.com/use-wildcards-to-match-filenames-in-linux/" rel="external nofollow noopener" target="_blank">10 Practical Examples Using Wildcards to Match Filenames in Linux</a></li> <li><a href="https://www.gnu.org/software/bash/manual/bash.html" rel="external nofollow noopener" target="_blank">Man Page of Bash</a></li> <li><a href="https://www.howtogeek.com/562941/how-to-use-the-awk-command-on-linux/" rel="external nofollow noopener" target="_blank">How to Use the awk Command on Linux</a></li> <li><a href="https://www.golinuxcloud.com/awk-examples-with-command-tutorial-unix-linux/" rel="external nofollow noopener" target="_blank">30+ awk examples for beginners / awk command tutorial in Linux/Unix</a></li> <li><a href="https://www.thegeekstuff.com/2010/01/8-powerful-awk-built-in-variables-fs-ofs-rs-ors-nr-nf-filename-fnr/" rel="external nofollow noopener" target="_blank">8 Powerful Awk Built-in Variables – FS, OFS, RS, ORS, NR, NF, FILENAME, FNR</a></li> <li><a href="https://linuxhandbook.com/awk-command-tutorial/" rel="external nofollow noopener" target="_blank">Getting Started With AWK Command</a></li> <li><a href="https://www.golinuxcloud.com/cat-command-examples/" rel="external nofollow noopener" target="_blank">cat command examples for beginners</a></li> <li><a href="https://www.golinuxcloud.com/find-command-in-linux/" rel="external nofollow noopener" target="_blank">25+ most used find commands in Linux</a></li> <li><a href="https://onecompiler.com/cheatsheets/find" rel="external nofollow noopener" target="_blank">find Linux Command Cheatsheet</a></li> <li><a href="https://linuxtutorials.org/linux-find-cheatsheet/" rel="external nofollow noopener" target="_blank">Linux Find Cheatsheet</a></li> <li><a href="https://opensource.com/article/21/9/linux-find-command" rel="external nofollow noopener" target="_blank">Find files and directories on Linux with the find command</a></li> <li><a href="https://www.redhat.com/sysadmin/linux-find-command" rel="external nofollow noopener" target="_blank">10 ways to use the Linux find command</a></li> <li><a href="https://quickref.me/find" rel="external nofollow noopener" target="_blank">Find cheatsheet</a></li> <li><a href="https://ryanstutorials.net/linuxtutorial/cheatsheetgrep.php" rel="external nofollow noopener" target="_blank">Linux Tutorial - Cheat Sheet - grep</a></li> <li><a href="https://www.golinuxcloud.com/grep-command-in-linux/" rel="external nofollow noopener" target="_blank">20 grep command examples in Linux</a></li> <li><a href="https://karandeepsingh.ca/posts/sed-command-cheat-sheet-30-essential-one-liners/" rel="external nofollow noopener" target="_blank">Sed Command Cheat Sheet: 30 Essential One-Liners for Text Processing</a></li> <li><a href="https://devhints.io/sed" rel="external nofollow noopener" target="_blank">sed cheatsheet</a></li> <li><a href="https://linuxhandbook.com/sort-command/" rel="external nofollow noopener" target="_blank">Linux Handbook: sort Command Examples</a></li> <li><a href="https://www.golinuxcloud.com/linux-sort-files/#1_Sort_by_name" rel="external nofollow noopener" target="_blank">15+ Tips to PROPERLY sort files in Linux</a></li> <li><a href="https://shapeshed.com/unix-sort/" rel="external nofollow noopener" target="_blank">Linux and Unix sort command tutorial with examples</a></li> <li><a href="https://www.baeldung.com/linux/sort-command" rel="external nofollow noopener" target="_blank">Linux sort Command</a></li> <li><a href="https://linux-audit.com/cheat-sheets/tar/" rel="external nofollow noopener" target="_blank">Linux Audit: tar cheat sheet</a></li> <li><a href="https://www.golinuxcloud.com/tar-command-in-linux/" rel="external nofollow noopener" target="_blank">15+ tar command examples in Linux</a></li> <li> <a href="https://github.com/seisman/how-to-write-makefile" rel="external nofollow noopener" target="_blank">How to write makefiles</a>.</li> <li><a href="https://docs.github.com/en/get-started/getting-started-with-git/ignoring-files" rel="external nofollow noopener" target="_blank">Ignoring files</a></li> </ul> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/gcs-front-end-development/">gcs-front-end Development</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/gcs-documentation/">gcs Documentation</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/gcs-back-end-development/">gcs-back-end Development</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/question-and-answer/">Q&amp;A</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/blink-cmp-git-contribution/">Contributing to blink-cmp-git</a> </li> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"Kaiser-Yang/Kaiser-Yang.github.io","data-repo-id":"R_kgDOMlCR5A","data-category":"Announcements","data-category-id":"DIC_kwDOMlCR5M4ChxBw","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"1","data-input-position":"top","data-theme":giscusTheme,"data-lang":"zh-CN",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Kaiser Yang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: June 12, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.js" integrity="sha256-4rppopQE9POKfukn2kEvhJ9Um25Cf6+IDVkARD0xh78=" crossorigin="anonymous"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"About",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"Blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-projects",title:"Projects",description:"",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-repositories",title:"Repositories",description:"",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"post-gcs-front-end-development",title:"gcs-front-end Development",description:"This post includes the main process of gcs-front-end development.",section:"Posts",handler:()=>{window.location.href="/blog/2025/gcs-front-end-development/"}},{id:"post-gcs-documentation",title:"gcs Documentation",description:"This post includes the index of gcs documentation.",section:"Posts",handler:()=>{window.location.href="/blog/2025/gcs-documentation/"}},{id:"post-gcs-back-end-development",title:"gcs-back-end Development",description:"This post includes the main process of gcs-back-end development.",section:"Posts",handler:()=>{window.location.href="/blog/2025/gcs-back-end-development/"}},{id:"post-q-amp-a",title:"Q&amp;A",description:"Some questions that I have encountered in my work.",section:"Posts",handler:()=>{window.location.href="/blog/2025/question-and-answer/"}},{id:"post-contributing-to-blink-cmp-git",title:"Contributing to blink-cmp-git",description:"A guide to adding support for new Git hosting services in blink-cmp-git.",section:"Posts",handler:()=>{window.location.href="/blog/2025/blink-cmp-git-contribution/"}},{id:"post-deploy-gcs",title:"Deploy gcs",description:"This post introduces how to deploy gcs on a server using Docker.",section:"Posts",handler:()=>{window.location.href="/blog/2025/gcs-deploy/"}},{id:"post-ieee-xtreme-18-0-\u9898\u89e3",title:"IEEE Xtreme 18.0 \u9898\u89e3",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/ieeextreme-18-solution/"}},{id:"post-\u9a6c\u62c9\u677e-4-\u5c0f\u65f6\u6311\u6218\u8bb0\u5f55",title:"\u9a6c\u62c9\u677e 4 \u5c0f\u65f6\u6311\u6218\u8bb0\u5f55",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/marathon-4-hours-preparation/"}},{id:"post-ssh-port-forwarding",title:"SSH Port Forwarding",description:"This post introduces the three types of SSH port forwarding.",section:"Posts",handler:()=>{window.location.href="/blog/2024/ssh-port-forwarding/"}},{id:"post-creating-a-git-remote-repository-on-server",title:"Creating a Git Remote Repository on Server",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/create-git-remote-repository-on-server/"}},{id:"post-spring-boot-test-\u81ea\u5b9a\u4e49\u6d4b\u8bd5\u7c7b\u987a\u5e8f",title:"Spring Boot Test \u81ea\u5b9a\u4e49\u6d4b\u8bd5\u7c7b\u987a\u5e8f",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-boot-test-custom-test-class-order/"}},{id:"post-spring-\u591a\u6b21\u8bfb\u53d6\u8bf7\u6c42\u4f53",title:"Spring \u591a\u6b21\u8bfb\u53d6\u8bf7\u6c42\u4f53",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-read-request-body-multiple-times/"}},{id:"post-long-\u5728-swagger-\u4e2d\u7cbe\u5ea6\u4e22\u5931",title:"Long \u5728 Swagger \u4e2d\u7cbe\u5ea6\u4e22\u5931",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/long-precision-lost-in-swagger/"}},{id:"post-linux-potpourri",title:"Linux Potpourri",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/linux-potpourri/"}},{id:"post-spring-validation-\u81ea\u5b9a\u4e49\u9519\u8bef\u4ee3\u7801",title:"Spring-Validation \u81ea\u5b9a\u4e49\u9519\u8bef\u4ee3\u7801",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-validation-custom-error-code/"}},{id:"post-jjwt-spring-filter-\u5b9e\u73b0-token-\u9a8c\u8bc1",title:"JJWT + Spring Filter \u5b9e\u73b0 Token \u9a8c\u8bc1",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/filter-jjwt-intro/"}},{id:"post-spring-filter-\u5168\u5c40\u5f02\u5e38\u5904\u7406\u5668",title:"Spring Filter \u5168\u5c40\u5f02\u5e38\u5904\u7406\u5668",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/exception-handler-intro/"}},{id:"post-spring-validation-introduction",title:"Spring Validation Introduction",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-validation-intro/"}},{id:"post-python-\u9ad8\u7ea7\u6280\u5de7\u5b66\u4e60",title:"Python \u9ad8\u7ea7\u6280\u5de7\u5b66\u4e60",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/python-advanced-skills/"}},{id:"post-\u4f7f\u7528-spring-doc-\u751f\u6210\u63a5\u53e3\u6587\u6863",title:"\u4f7f\u7528 Spring-Doc \u751f\u6210\u63a5\u53e3\u6587\u6863",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-doc-intro/"}},{id:"post-mybatis-plus-\u7b80\u4ecb",title:"MyBatis-Plus \u7b80\u4ecb",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/mybatis-plus-intro/"}},{id:"post-spring-mvc-\u7b80\u4ecb",title:"Spring MVC \u7b80\u4ecb",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-mvc-intro/"}},{id:"post-mock-mvc-\u7b80\u4ecb",title:"Mock Mvc \u7b80\u4ecb",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/mock-mvc-intro/"}},{id:"post-the-brief-introduction-of-spring",title:"The Brief Introduction of Spring",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/spring-intro/"}},{id:"post-\u5728-nvim-\u4e2d\u4f7f\u7528-rime-ls-\u914d\u7f6e\u4e2d\u6587\u8f93\u5165\u6cd5",title:"\u5728 nvim \u4e2d\u4f7f\u7528 rime-ls \u914d\u7f6e\u4e2d\u6587\u8f93\u5165\u6cd5",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/nvim-input-method/"}},{id:"post-a-brief-introduction-of-game-theory",title:"A Brief Introduction of Game Theory",description:"This post introduce some simple examples of game theory.",section:"Posts",handler:()=>{window.location.href="/blog/2024/game-theory/"}},{id:"post-c-pack-from-static-loop-to-static-prime-check",title:"C++ Pack, from Static Loop to Static Prime Check",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/cpp-pack-meta-programming/"}},{id:"post-the-introduction-of-c-smart-pointers",title:"The Introduction of C++ Smart Pointers",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/cpp-smart-pointer/"}},{id:"post-c-multi-threading",title:"C++ Multi-threading",description:"This post introduces the C++ multi-threading library and its usage.",section:"Posts",handler:()=>{window.location.href="/blog/2023/cpp-multi-thread/"}},{id:"post-c-value-categories-references-move-semantics-and-perfect-forwarding",title:"C++ Value Categories, References, Move Semantics and Perfect Forwarding",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/value-categories-cpp/"}},{id:"news-working-on-gcs-back-end-https-github-com-cmipt-gcs-back-end",title:"Working on [gcs-back-end](https://github.com/CMIPT/gcs-back-end).",description:"",section:"News"},{id:"projects-gcs-back-end",title:"gcs-back-end",description:"",section:"Projects",handler:()=>{window.location.href="/projects/gcs-back-end/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6B%61%69%73%65%72%71%7A%79%75%65@%66%6F%78%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/Kaiser-Yang","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>